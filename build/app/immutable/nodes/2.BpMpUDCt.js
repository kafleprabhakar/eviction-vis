import{s as I,n as b,o as M,d as S,e as z}from"../chunks/scheduler.BnLxJkeY.js";import{S as B,i as E,e as h,s as w,c as y,m as k,h as _,d as C,g as d,n as f,j as u,k as V}from"../chunks/index.u8s2zRu2.js";import{m as j}from"../chunks/mapbox-gl.BdOqyTyn.js";const H=!0,F=Object.freeze(Object.defineProperty({__proto__:null,prerender:H},Symbol.toStringTag,{value:"Module"}));function P(v){let s,p="Visualization Proof of Concept",i,l,o,r,a,m=`<h1>Motor vehicle collisions</h1> <p>Data:
		<a href="https://data.cityofnewyork.us/Public-Safety/NYPD-Motor-Vehicle-Collisions/h9gi-nx95">Motor vehicle collision injuries and death</a>
		in NYC, Jan 2016</p> <div class="session svelte-1uaset"><h2>Casualty</h2> <div class="row colors svelte-1uaset"></div> <div class="row labels svelte-1uaset"><div class="label svelte-1uaset">0</div> <div class="label svelte-1uaset">1</div> <div class="label svelte-1uaset">2</div> <div class="label svelte-1uaset">3</div> <div class="label svelte-1uaset">4</div> <div class="label svelte-1uaset">5+</div></div></div> <div class="session svelte-1uaset"><h2>Hour: <label id="active-hour">12PM</label></h2> <input id="slider" class="row svelte-1uaset" type="range" min="0" max="23" step="1" value="12"/></div> <div class="session svelte-1uaset"><h2>Day of the week</h2> <div class="row svelte-1uaset" id="filters"><input id="all" type="radio" name="toggle" value="all" checked="checked"/> <label for="all">All</label> <input id="weekday" type="radio" name="toggle" value="weekday"/> <label for="weekday">Weekday</label> <input id="weekend" type="radio" name="toggle" value="weekend"/> <label for="weekend">Weekend</label></div></div>`;return{c(){s=h("h1"),s.textContent=p,i=w(),l=h("div"),o=h("div"),r=w(),a=h("div"),a.innerHTML=m,this.h()},l(e){s=y(e,"H1",{"data-svelte-h":!0}),k(s)!=="svelte-11kzywz"&&(s.textContent=p),i=_(e),l=y(e,"DIV",{class:!0});var t=C(l);o=y(t,"DIV",{class:!0}),C(o).forEach(d),t.forEach(d),r=_(e),a=y(e,"DIV",{id:!0,class:!0,"data-svelte-h":!0}),k(a)!=="svelte-2wt4o9"&&(a.innerHTML=m),this.h()},h(){f(o,"class","map svelte-1uaset"),f(l,"class","map-wrap"),f(a,"id","console"),f(a,"class","svelte-1uaset")},m(e,t){u(e,s,t),u(e,i,t),u(e,l,t),V(l,o),v[1](o),u(e,r,t),u(e,a,t)},p:b,i:b,o:b,d(e){e&&(d(s),d(i),d(l),d(r),d(a)),v[1](null)}}}function A(v,s,p){let i,l,o,r,a;o=-74.0059,r=40.7128,a=12,M(()=>{const e={lng:o,lat:r,zoom:a};i=new j.Map({container:l,accessToken:"pk.eyJ1IjoiamVzc3N4IiwiYSI6ImNsdW16ZnIwbzFpbmkya2xobXo1MDJmZ3oifQ.ogmulGwB0XVmVzqZO72KCA",style:"mapbox://styles/mapbox/light-v11",center:[e.lng,e.lat],zoom:e.zoom}),i.on("load",()=>{let t=["==",["number",["get","Hour"]],12],c=["!=",["string",["get","Day"]],"placeholder"];i.addLayer({id:"collisions",type:"circle",source:{type:"geojson",data:"src/datasets/collisions1601.geojson"},paint:{"circle-radius":["interpolate",["linear"],["number",["get","Casualty"]],0,4,5,24],"circle-color":["interpolate",["linear"],["number",["get","Casualty"]],0,"#2DC4B2",1,"#3BB3C3",2,"#669EC4",3,"#8B88B6",4,"#A2719B",5,"#AA5E79"],"circle-opacity":.8},filter:["all",t,c]}),document.getElementById("slider").addEventListener("input",g=>{const n=parseInt(g.target.value);t=["==",["number",["get","Hour"]],n],i.setFilter("collisions",["all",t,c]);const D=n>=12?"PM":"AM",x=n%12?n%12:12;document.getElementById("active-hour").innerText=x+D}),document.getElementById("filters").addEventListener("change",g=>{const n=g.target.value;n==="all"?c=["!=",["string",["get","Day"]],"placeholder"]:n==="weekday"?c=["match",["get","Day"],["Sat","Sun"],!1,!0]:n==="weekend"?c=["match",["get","Day"],["Sat","Sun"],!0,!1]:console.error("error"),i.setFilter("collisions",["all",t,c])})})}),S(()=>{});function m(e){z[e?"unshift":"push"](()=>{l=e,p(0,l)})}return[l,m]}class J extends B{constructor(s){super(),E(this,s,A,P,I,{})}}export{J as component,F as universal};
