import{s as Je,n as Rn,o as jr}from"../chunks/scheduler.BnLxJkeY.js";import{S as Ke,i as je,e as B,s as gt,b as Qt,c as Z,d as dt,m as Jt,h as mt,f as Kt,g as ht,n as I,j as ti,k as E,l as ge,v as ni,w as ei,x as ri,t as ii,a as oi,y as ai}from"../chunks/index.u8s2zRu2.js";import{m as ui}from"../chunks/mapbox-gl.BdOqyTyn.js";const si=!0,fl=Object.freeze(Object.defineProperty({__proto__:null,prerender:si},Symbol.toStringTag,{value:"Module"}));function on(t,n){return t==null||n==null?NaN:t<n?-1:t>n?1:t>=n?0:NaN}function ci(t,n){return t==null||n==null?NaN:n<t?-1:n>t?1:n>=t?0:NaN}function Mn(t){let n,e,r;t.length!==2?(n=on,e=(u,c)=>on(t(u),c),r=(u,c)=>t(u)-c):(n=t===on||t===ci?t:li,e=t,r=t);function i(u,c,s=0,l=u.length){if(s<l){if(n(c,c)!==0)return l;do{const f=s+l>>>1;e(u[f],c)<0?s=f+1:l=f}while(s<l)}return s}function o(u,c,s=0,l=u.length){if(s<l){if(n(c,c)!==0)return l;do{const f=s+l>>>1;e(u[f],c)<=0?s=f+1:l=f}while(s<l)}return s}function a(u,c,s=0,l=u.length){const f=i(u,c,s,l-1);return f>s&&r(u[f-1],c)>-r(u[f],c)?f-1:f}return{left:i,center:a,right:o}}function li(){return 0}function fi(t){return t===null?NaN:+t}const hi=Mn(on),pi=hi.right;Mn(fi).center;function gi(t,n){let e,r;if(n===void 0)for(const i of t)i!=null&&(e===void 0?i>=i&&(e=r=i):(e>i&&(e=i),r<i&&(r=i)));else{let i=-1;for(let o of t)(o=n(o,++i,t))!=null&&(e===void 0?o>=o&&(e=r=o):(e>o&&(e=o),r<o&&(r=o)))}return[e,r]}const di=Math.sqrt(50),mi=Math.sqrt(10),yi=Math.sqrt(2);function cn(t,n,e){const r=(n-t)/Math.max(0,e),i=Math.floor(Math.log10(r)),o=r/Math.pow(10,i),a=o>=di?10:o>=mi?5:o>=yi?2:1;let u,c,s;return i<0?(s=Math.pow(10,-i)/a,u=Math.round(t*s),c=Math.round(n*s),u/s<t&&++u,c/s>n&&--c,s=-s):(s=Math.pow(10,i)*a,u=Math.round(t/s),c=Math.round(n/s),u*s<t&&++u,c*s>n&&--c),c<u&&.5<=e&&e<2?cn(t,n,e*2):[u,c,s]}function vi(t,n,e){if(n=+n,t=+t,e=+e,!(e>0))return[];if(t===n)return[t];const r=n<t,[i,o,a]=r?cn(n,t,e):cn(t,n,e);if(!(o>=i))return[];const u=o-i+1,c=new Array(u);if(r)if(a<0)for(let s=0;s<u;++s)c[s]=(o-s)/-a;else for(let s=0;s<u;++s)c[s]=(o-s)*a;else if(a<0)for(let s=0;s<u;++s)c[s]=(i+s)/-a;else for(let s=0;s<u;++s)c[s]=(i+s)*a;return c}function Pn(t,n,e){return n=+n,t=+t,e=+e,cn(t,n,e)[2]}function On(t,n,e){n=+n,t=+t,e=+e;const r=n<t,i=r?Pn(n,t,e):Pn(t,n,e);return(r?-1:1)*(i<0?1/-i:i)}function _i(t,n){let e;if(n===void 0)for(const r of t)r!=null&&(e<r||e===void 0&&r>=r)&&(e=r);else{let r=-1;for(let i of t)(i=n(i,++r,t))!=null&&(e<i||e===void 0&&i>=i)&&(e=i)}return e}function wi(t){return t}var Sn=1,$n=2,Vn=3,Pt=4,de=1e-6;function xi(t){return"translate("+t+",0)"}function Mi(t){return"translate(0,"+t+")"}function Ti(t){return n=>+t(n)}function bi(t,n){return n=Math.max(0,t.bandwidth()-n*2)/2,t.round()&&(n=Math.round(n)),e=>+t(e)+n}function Ci(){return!this.__axis}function tr(t,n){var e=[],r=null,i=null,o=6,a=6,u=3,c=typeof window<"u"&&window.devicePixelRatio>1?0:.5,s=t===Sn||t===Pt?-1:1,l=t===Pt||t===$n?"x":"y",f=t===Sn||t===Vn?xi:Mi;function h(p){var m=r??(n.ticks?n.ticks.apply(n,e):n.domain()),v=i??(n.tickFormat?n.tickFormat.apply(n,e):wi),C=Math.max(o,0)+u,S=n.range(),g=+S[0]+c,y=+S[S.length-1]+c,x=(n.bandwidth?bi:Ti)(n.copy(),c),M=p.selection?p.selection():p,_=M.selectAll(".domain").data([null]),T=M.selectAll(".tick").data(m,n).order(),D=T.exit(),X=T.enter().append("g").attr("class","tick"),Y=T.select("line"),b=T.select("text");_=_.merge(_.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),T=T.merge(X),Y=Y.merge(X.append("line").attr("stroke","currentColor").attr(l+"2",s*o)),b=b.merge(X.append("text").attr("fill","currentColor").attr(l,s*C).attr("dy",t===Sn?"0em":t===Vn?"0.71em":"0.32em")),p!==M&&(_=_.transition(p),T=T.transition(p),Y=Y.transition(p),b=b.transition(p),D=D.transition(p).attr("opacity",de).attr("transform",function(U){return isFinite(U=x(U))?f(U+c):this.getAttribute("transform")}),X.attr("opacity",de).attr("transform",function(U){var A=this.parentNode.__axis;return f((A&&isFinite(A=A(U))?A:x(U))+c)})),D.remove(),_.attr("d",t===Pt||t===$n?a?"M"+s*a+","+g+"H"+c+"V"+y+"H"+s*a:"M"+c+","+g+"V"+y:a?"M"+g+","+s*a+"V"+c+"H"+y+"V"+s*a:"M"+g+","+c+"H"+y),T.attr("opacity",1).attr("transform",function(U){return f(x(U)+c)}),Y.attr(l+"2",s*o),b.attr(l,s*C).text(v),M.filter(Ci).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",t===$n?"start":t===Pt?"end":"middle"),M.each(function(){this.__axis=x})}return h.scale=function(p){return arguments.length?(n=p,h):n},h.ticks=function(){return e=Array.from(arguments),h},h.tickArguments=function(p){return arguments.length?(e=p==null?[]:Array.from(p),h):e.slice()},h.tickValues=function(p){return arguments.length?(r=p==null?null:Array.from(p),h):r&&r.slice()},h.tickFormat=function(p){return arguments.length?(i=p,h):i},h.tickSize=function(p){return arguments.length?(o=a=+p,h):o},h.tickSizeInner=function(p){return arguments.length?(o=+p,h):o},h.tickSizeOuter=function(p){return arguments.length?(a=+p,h):a},h.tickPadding=function(p){return arguments.length?(u=+p,h):u},h.offset=function(p){return arguments.length?(c=+p,h):c},h}function ki(t){return tr(Vn,t)}function Si(t){return tr(Pt,t)}var $i={value:()=>{}};function nr(){for(var t=0,n=arguments.length,e={},r;t<n;++t){if(!(r=arguments[t]+"")||r in e||/[\s.]/.test(r))throw new Error("illegal type: "+r);e[r]=[]}return new an(e)}function an(t){this._=t}function Ni(t,n){return t.trim().split(/^|\s+/).map(function(e){var r="",i=e.indexOf(".");if(i>=0&&(r=e.slice(i+1),e=e.slice(0,i)),e&&!n.hasOwnProperty(e))throw new Error("unknown type: "+e);return{type:e,name:r}})}an.prototype=nr.prototype={constructor:an,on:function(t,n){var e=this._,r=Ni(t+"",e),i,o=-1,a=r.length;if(arguments.length<2){for(;++o<a;)if((i=(t=r[o]).type)&&(i=Ai(e[i],t.name)))return i;return}if(n!=null&&typeof n!="function")throw new Error("invalid callback: "+n);for(;++o<a;)if(i=(t=r[o]).type)e[i]=me(e[i],t.name,n);else if(n==null)for(i in e)e[i]=me(e[i],t.name,null);return this},copy:function(){var t={},n=this._;for(var e in n)t[e]=n[e].slice();return new an(t)},call:function(t,n){if((i=arguments.length-2)>0)for(var e=new Array(i),r=0,i,o;r<i;++r)e[r]=arguments[r+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(o=this._[t],r=0,i=o.length;r<i;++r)o[r].value.apply(n,e)},apply:function(t,n,e){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,o=r.length;i<o;++i)r[i].value.apply(n,e)}};function Ai(t,n){for(var e=0,r=t.length,i;e<r;++e)if((i=t[e]).name===n)return i.value}function me(t,n,e){for(var r=0,i=t.length;r<i;++r)if(t[r].name===n){t[r]=$i,t=t.slice(0,r).concat(t.slice(r+1));break}return e!=null&&t.push({name:n,value:e}),t}var Wn="http://www.w3.org/1999/xhtml";const ye={svg:"http://www.w3.org/2000/svg",xhtml:Wn,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Tn(t){var n=t+="",e=n.indexOf(":");return e>=0&&(n=t.slice(0,e))!=="xmlns"&&(t=t.slice(e+1)),ye.hasOwnProperty(n)?{space:ye[n],local:t}:t}function Di(t){return function(){var n=this.ownerDocument,e=this.namespaceURI;return e===Wn&&n.documentElement.namespaceURI===Wn?n.createElement(t):n.createElementNS(e,t)}}function Ui(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function er(t){var n=Tn(t);return(n.local?Ui:Di)(n)}function Fi(){}function jn(t){return t==null?Fi:function(){return this.querySelector(t)}}function Ei(t){typeof t!="function"&&(t=jn(t));for(var n=this._groups,e=n.length,r=new Array(e),i=0;i<e;++i)for(var o=n[i],a=o.length,u=r[i]=new Array(a),c,s,l=0;l<a;++l)(c=o[l])&&(s=t.call(c,c.__data__,l,o))&&("__data__"in c&&(s.__data__=c.__data__),u[l]=s);return new z(r,this._parents)}function Li(t){return t==null?[]:Array.isArray(t)?t:Array.from(t)}function Ii(){return[]}function rr(t){return t==null?Ii:function(){return this.querySelectorAll(t)}}function Hi(t){return function(){return Li(t.apply(this,arguments))}}function Yi(t){typeof t=="function"?t=Hi(t):t=rr(t);for(var n=this._groups,e=n.length,r=[],i=[],o=0;o<e;++o)for(var a=n[o],u=a.length,c,s=0;s<u;++s)(c=a[s])&&(r.push(t.call(c,c.__data__,s,a)),i.push(c));return new z(r,i)}function ir(t){return function(){return this.matches(t)}}function or(t){return function(n){return n.matches(t)}}var Ri=Array.prototype.find;function Pi(t){return function(){return Ri.call(this.children,t)}}function Oi(){return this.firstElementChild}function Vi(t){return this.select(t==null?Oi:Pi(typeof t=="function"?t:or(t)))}var Wi=Array.prototype.filter;function qi(){return Array.from(this.children)}function zi(t){return function(){return Wi.call(this.children,t)}}function Xi(t){return this.selectAll(t==null?qi:zi(typeof t=="function"?t:or(t)))}function Bi(t){typeof t!="function"&&(t=ir(t));for(var n=this._groups,e=n.length,r=new Array(e),i=0;i<e;++i)for(var o=n[i],a=o.length,u=r[i]=[],c,s=0;s<a;++s)(c=o[s])&&t.call(c,c.__data__,s,o)&&u.push(c);return new z(r,this._parents)}function ar(t){return new Array(t.length)}function Zi(){return new z(this._enter||this._groups.map(ar),this._parents)}function ln(t,n){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=n}ln.prototype={constructor:ln,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,n){return this._parent.insertBefore(t,n)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function Gi(t){return function(){return t}}function Qi(t,n,e,r,i,o){for(var a=0,u,c=n.length,s=o.length;a<s;++a)(u=n[a])?(u.__data__=o[a],r[a]=u):e[a]=new ln(t,o[a]);for(;a<c;++a)(u=n[a])&&(i[a]=u)}function Ji(t,n,e,r,i,o,a){var u,c,s=new Map,l=n.length,f=o.length,h=new Array(l),p;for(u=0;u<l;++u)(c=n[u])&&(h[u]=p=a.call(c,c.__data__,u,n)+"",s.has(p)?i[u]=c:s.set(p,c));for(u=0;u<f;++u)p=a.call(t,o[u],u,o)+"",(c=s.get(p))?(r[u]=c,c.__data__=o[u],s.delete(p)):e[u]=new ln(t,o[u]);for(u=0;u<l;++u)(c=n[u])&&s.get(h[u])===c&&(i[u]=c)}function Ki(t){return t.__data__}function ji(t,n){if(!arguments.length)return Array.from(this,Ki);var e=n?Ji:Qi,r=this._parents,i=this._groups;typeof t!="function"&&(t=Gi(t));for(var o=i.length,a=new Array(o),u=new Array(o),c=new Array(o),s=0;s<o;++s){var l=r[s],f=i[s],h=f.length,p=to(t.call(l,l&&l.__data__,s,r)),m=p.length,v=u[s]=new Array(m),C=a[s]=new Array(m),S=c[s]=new Array(h);e(l,f,v,C,S,p,n);for(var g=0,y=0,x,M;g<m;++g)if(x=v[g]){for(g>=y&&(y=g+1);!(M=C[y])&&++y<m;);x._next=M||null}}return a=new z(a,r),a._enter=u,a._exit=c,a}function to(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function no(){return new z(this._exit||this._groups.map(ar),this._parents)}function eo(t,n,e){var r=this.enter(),i=this,o=this.exit();return typeof t=="function"?(r=t(r),r&&(r=r.selection())):r=r.append(t+""),n!=null&&(i=n(i),i&&(i=i.selection())),e==null?o.remove():e(o),r&&i?r.merge(i).order():i}function ro(t){for(var n=t.selection?t.selection():t,e=this._groups,r=n._groups,i=e.length,o=r.length,a=Math.min(i,o),u=new Array(i),c=0;c<a;++c)for(var s=e[c],l=r[c],f=s.length,h=u[c]=new Array(f),p,m=0;m<f;++m)(p=s[m]||l[m])&&(h[m]=p);for(;c<i;++c)u[c]=e[c];return new z(u,this._parents)}function io(){for(var t=this._groups,n=-1,e=t.length;++n<e;)for(var r=t[n],i=r.length-1,o=r[i],a;--i>=0;)(a=r[i])&&(o&&a.compareDocumentPosition(o)^4&&o.parentNode.insertBefore(a,o),o=a);return this}function oo(t){t||(t=ao);function n(f,h){return f&&h?t(f.__data__,h.__data__):!f-!h}for(var e=this._groups,r=e.length,i=new Array(r),o=0;o<r;++o){for(var a=e[o],u=a.length,c=i[o]=new Array(u),s,l=0;l<u;++l)(s=a[l])&&(c[l]=s);c.sort(n)}return new z(i,this._parents).order()}function ao(t,n){return t<n?-1:t>n?1:t>=n?0:NaN}function uo(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this}function so(){return Array.from(this)}function co(){for(var t=this._groups,n=0,e=t.length;n<e;++n)for(var r=t[n],i=0,o=r.length;i<o;++i){var a=r[i];if(a)return a}return null}function lo(){let t=0;for(const n of this)++t;return t}function fo(){return!this.node()}function ho(t){for(var n=this._groups,e=0,r=n.length;e<r;++e)for(var i=n[e],o=0,a=i.length,u;o<a;++o)(u=i[o])&&t.call(u,u.__data__,o,i);return this}function po(t){return function(){this.removeAttribute(t)}}function go(t){return function(){this.removeAttributeNS(t.space,t.local)}}function mo(t,n){return function(){this.setAttribute(t,n)}}function yo(t,n){return function(){this.setAttributeNS(t.space,t.local,n)}}function vo(t,n){return function(){var e=n.apply(this,arguments);e==null?this.removeAttribute(t):this.setAttribute(t,e)}}function _o(t,n){return function(){var e=n.apply(this,arguments);e==null?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,e)}}function wo(t,n){var e=Tn(t);if(arguments.length<2){var r=this.node();return e.local?r.getAttributeNS(e.space,e.local):r.getAttribute(e)}return this.each((n==null?e.local?go:po:typeof n=="function"?e.local?_o:vo:e.local?yo:mo)(e,n))}function ur(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function xo(t){return function(){this.style.removeProperty(t)}}function Mo(t,n,e){return function(){this.style.setProperty(t,n,e)}}function To(t,n,e){return function(){var r=n.apply(this,arguments);r==null?this.style.removeProperty(t):this.style.setProperty(t,r,e)}}function bo(t,n,e){return arguments.length>1?this.each((n==null?xo:typeof n=="function"?To:Mo)(t,n,e??"")):At(this.node(),t)}function At(t,n){return t.style.getPropertyValue(n)||ur(t).getComputedStyle(t,null).getPropertyValue(n)}function Co(t){return function(){delete this[t]}}function ko(t,n){return function(){this[t]=n}}function So(t,n){return function(){var e=n.apply(this,arguments);e==null?delete this[t]:this[t]=e}}function $o(t,n){return arguments.length>1?this.each((n==null?Co:typeof n=="function"?So:ko)(t,n)):this.node()[t]}function sr(t){return t.trim().split(/^|\s+/)}function te(t){return t.classList||new cr(t)}function cr(t){this._node=t,this._names=sr(t.getAttribute("class")||"")}cr.prototype={add:function(t){var n=this._names.indexOf(t);n<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var n=this._names.indexOf(t);n>=0&&(this._names.splice(n,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function lr(t,n){for(var e=te(t),r=-1,i=n.length;++r<i;)e.add(n[r])}function fr(t,n){for(var e=te(t),r=-1,i=n.length;++r<i;)e.remove(n[r])}function No(t){return function(){lr(this,t)}}function Ao(t){return function(){fr(this,t)}}function Do(t,n){return function(){(n.apply(this,arguments)?lr:fr)(this,t)}}function Uo(t,n){var e=sr(t+"");if(arguments.length<2){for(var r=te(this.node()),i=-1,o=e.length;++i<o;)if(!r.contains(e[i]))return!1;return!0}return this.each((typeof n=="function"?Do:n?No:Ao)(e,n))}function Fo(){this.textContent=""}function Eo(t){return function(){this.textContent=t}}function Lo(t){return function(){var n=t.apply(this,arguments);this.textContent=n??""}}function Io(t){return arguments.length?this.each(t==null?Fo:(typeof t=="function"?Lo:Eo)(t)):this.node().textContent}function Ho(){this.innerHTML=""}function Yo(t){return function(){this.innerHTML=t}}function Ro(t){return function(){var n=t.apply(this,arguments);this.innerHTML=n??""}}function Po(t){return arguments.length?this.each(t==null?Ho:(typeof t=="function"?Ro:Yo)(t)):this.node().innerHTML}function Oo(){this.nextSibling&&this.parentNode.appendChild(this)}function Vo(){return this.each(Oo)}function Wo(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function qo(){return this.each(Wo)}function zo(t){var n=typeof t=="function"?t:er(t);return this.select(function(){return this.appendChild(n.apply(this,arguments))})}function Xo(){return null}function Bo(t,n){var e=typeof t=="function"?t:er(t),r=n==null?Xo:typeof n=="function"?n:jn(n);return this.select(function(){return this.insertBefore(e.apply(this,arguments),r.apply(this,arguments)||null)})}function Zo(){var t=this.parentNode;t&&t.removeChild(this)}function Go(){return this.each(Zo)}function Qo(){var t=this.cloneNode(!1),n=this.parentNode;return n?n.insertBefore(t,this.nextSibling):t}function Jo(){var t=this.cloneNode(!0),n=this.parentNode;return n?n.insertBefore(t,this.nextSibling):t}function Ko(t){return this.select(t?Jo:Qo)}function jo(t){return arguments.length?this.property("__data__",t):this.node().__data__}function ta(t){return function(n){t.call(this,n,this.__data__)}}function na(t){return t.trim().split(/^|\s+/).map(function(n){var e="",r=n.indexOf(".");return r>=0&&(e=n.slice(r+1),n=n.slice(0,r)),{type:n,name:e}})}function ea(t){return function(){var n=this.__on;if(n){for(var e=0,r=-1,i=n.length,o;e<i;++e)o=n[e],(!t.type||o.type===t.type)&&o.name===t.name?this.removeEventListener(o.type,o.listener,o.options):n[++r]=o;++r?n.length=r:delete this.__on}}}function ra(t,n,e){return function(){var r=this.__on,i,o=ta(n);if(r){for(var a=0,u=r.length;a<u;++a)if((i=r[a]).type===t.type&&i.name===t.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=o,i.options=e),i.value=n;return}}this.addEventListener(t.type,o,e),i={type:t.type,name:t.name,value:n,listener:o,options:e},r?r.push(i):this.__on=[i]}}function ia(t,n,e){var r=na(t+""),i,o=r.length,a;if(arguments.length<2){var u=this.node().__on;if(u){for(var c=0,s=u.length,l;c<s;++c)for(i=0,l=u[c];i<o;++i)if((a=r[i]).type===l.type&&a.name===l.name)return l.value}return}for(u=n?ra:ea,i=0;i<o;++i)this.each(u(r[i],n,e));return this}function hr(t,n,e){var r=ur(t),i=r.CustomEvent;typeof i=="function"?i=new i(n,e):(i=r.document.createEvent("Event"),e?(i.initEvent(n,e.bubbles,e.cancelable),i.detail=e.detail):i.initEvent(n,!1,!1)),t.dispatchEvent(i)}function oa(t,n){return function(){return hr(this,t,n)}}function aa(t,n){return function(){return hr(this,t,n.apply(this,arguments))}}function ua(t,n){return this.each((typeof n=="function"?aa:oa)(t,n))}function*sa(){for(var t=this._groups,n=0,e=t.length;n<e;++n)for(var r=t[n],i=0,o=r.length,a;i<o;++i)(a=r[i])&&(yield a)}var pr=[null];function z(t,n){this._groups=t,this._parents=n}function Bt(){return new z([[document.documentElement]],pr)}function ca(){return this}z.prototype=Bt.prototype={constructor:z,select:Ei,selectAll:Yi,selectChild:Vi,selectChildren:Xi,filter:Bi,data:ji,enter:Zi,exit:no,join:eo,merge:ro,selection:ca,order:io,sort:oo,call:uo,nodes:so,node:co,size:lo,empty:fo,each:ho,attr:wo,style:bo,property:$o,classed:Uo,text:Io,html:Po,raise:Vo,lower:qo,append:zo,insert:Bo,remove:Go,clone:Ko,datum:jo,on:ia,dispatch:ua,[Symbol.iterator]:sa};function la(t){return typeof t=="string"?new z([[document.querySelector(t)]],[document.documentElement]):new z([[t]],pr)}function fa(t){let n;for(;n=t.sourceEvent;)t=n;return t}function ha(t,n){if(t=fa(t),n===void 0&&(n=t.currentTarget),n){var e=n.ownerSVGElement||n;if(e.createSVGPoint){var r=e.createSVGPoint();return r.x=t.clientX,r.y=t.clientY,r=r.matrixTransform(n.getScreenCTM().inverse()),[r.x,r.y]}if(n.getBoundingClientRect){var i=n.getBoundingClientRect();return[t.clientX-i.left-n.clientLeft,t.clientY-i.top-n.clientTop]}}return[t.pageX,t.pageY]}function ne(t,n,e){t.prototype=n.prototype=e,e.constructor=t}function gr(t,n){var e=Object.create(t.prototype);for(var r in n)e[r]=n[r];return e}function Zt(){}var qt=.7,fn=1/qt,Nt="\\s*([+-]?\\d+)\\s*",zt="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",et="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",pa=/^#([0-9a-f]{3,8})$/,ga=new RegExp(`^rgb\\(${Nt},${Nt},${Nt}\\)$`),da=new RegExp(`^rgb\\(${et},${et},${et}\\)$`),ma=new RegExp(`^rgba\\(${Nt},${Nt},${Nt},${zt}\\)$`),ya=new RegExp(`^rgba\\(${et},${et},${et},${zt}\\)$`),va=new RegExp(`^hsl\\(${zt},${et},${et}\\)$`),_a=new RegExp(`^hsla\\(${zt},${et},${et},${zt}\\)$`),ve={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};ne(Zt,wt,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:_e,formatHex:_e,formatHex8:wa,formatHsl:xa,formatRgb:we,toString:we});function _e(){return this.rgb().formatHex()}function wa(){return this.rgb().formatHex8()}function xa(){return dr(this).formatHsl()}function we(){return this.rgb().formatRgb()}function wt(t){var n,e;return t=(t+"").trim().toLowerCase(),(n=pa.exec(t))?(e=n[1].length,n=parseInt(n[1],16),e===6?xe(n):e===3?new V(n>>8&15|n>>4&240,n>>4&15|n&240,(n&15)<<4|n&15,1):e===8?jt(n>>24&255,n>>16&255,n>>8&255,(n&255)/255):e===4?jt(n>>12&15|n>>8&240,n>>8&15|n>>4&240,n>>4&15|n&240,((n&15)<<4|n&15)/255):null):(n=ga.exec(t))?new V(n[1],n[2],n[3],1):(n=da.exec(t))?new V(n[1]*255/100,n[2]*255/100,n[3]*255/100,1):(n=ma.exec(t))?jt(n[1],n[2],n[3],n[4]):(n=ya.exec(t))?jt(n[1]*255/100,n[2]*255/100,n[3]*255/100,n[4]):(n=va.exec(t))?be(n[1],n[2]/100,n[3]/100,1):(n=_a.exec(t))?be(n[1],n[2]/100,n[3]/100,n[4]):ve.hasOwnProperty(t)?xe(ve[t]):t==="transparent"?new V(NaN,NaN,NaN,0):null}function xe(t){return new V(t>>16&255,t>>8&255,t&255,1)}function jt(t,n,e,r){return r<=0&&(t=n=e=NaN),new V(t,n,e,r)}function Ma(t){return t instanceof Zt||(t=wt(t)),t?(t=t.rgb(),new V(t.r,t.g,t.b,t.opacity)):new V}function qn(t,n,e,r){return arguments.length===1?Ma(t):new V(t,n,e,r??1)}function V(t,n,e,r){this.r=+t,this.g=+n,this.b=+e,this.opacity=+r}ne(V,qn,gr(Zt,{brighter(t){return t=t==null?fn:Math.pow(fn,t),new V(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?qt:Math.pow(qt,t),new V(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new V(_t(this.r),_t(this.g),_t(this.b),hn(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Me,formatHex:Me,formatHex8:Ta,formatRgb:Te,toString:Te}));function Me(){return`#${vt(this.r)}${vt(this.g)}${vt(this.b)}`}function Ta(){return`#${vt(this.r)}${vt(this.g)}${vt(this.b)}${vt((isNaN(this.opacity)?1:this.opacity)*255)}`}function Te(){const t=hn(this.opacity);return`${t===1?"rgb(":"rgba("}${_t(this.r)}, ${_t(this.g)}, ${_t(this.b)}${t===1?")":`, ${t})`}`}function hn(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function _t(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function vt(t){return t=_t(t),(t<16?"0":"")+t.toString(16)}function be(t,n,e,r){return r<=0?t=n=e=NaN:e<=0||e>=1?t=n=NaN:n<=0&&(t=NaN),new j(t,n,e,r)}function dr(t){if(t instanceof j)return new j(t.h,t.s,t.l,t.opacity);if(t instanceof Zt||(t=wt(t)),!t)return new j;if(t instanceof j)return t;t=t.rgb();var n=t.r/255,e=t.g/255,r=t.b/255,i=Math.min(n,e,r),o=Math.max(n,e,r),a=NaN,u=o-i,c=(o+i)/2;return u?(n===o?a=(e-r)/u+(e<r)*6:e===o?a=(r-n)/u+2:a=(n-e)/u+4,u/=c<.5?o+i:2-o-i,a*=60):u=c>0&&c<1?0:a,new j(a,u,c,t.opacity)}function ba(t,n,e,r){return arguments.length===1?dr(t):new j(t,n,e,r??1)}function j(t,n,e,r){this.h=+t,this.s=+n,this.l=+e,this.opacity=+r}ne(j,ba,gr(Zt,{brighter(t){return t=t==null?fn:Math.pow(fn,t),new j(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?qt:Math.pow(qt,t),new j(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,n=isNaN(t)||isNaN(this.s)?0:this.s,e=this.l,r=e+(e<.5?e:1-e)*n,i=2*e-r;return new V(Nn(t>=240?t-240:t+120,i,r),Nn(t,i,r),Nn(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new j(Ce(this.h),tn(this.s),tn(this.l),hn(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=hn(this.opacity);return`${t===1?"hsl(":"hsla("}${Ce(this.h)}, ${tn(this.s)*100}%, ${tn(this.l)*100}%${t===1?")":`, ${t})`}`}}));function Ce(t){return t=(t||0)%360,t<0?t+360:t}function tn(t){return Math.max(0,Math.min(1,t||0))}function Nn(t,n,e){return(t<60?n+(e-n)*t/60:t<180?e:t<240?n+(e-n)*(240-t)/60:n)*255}const ee=t=>()=>t;function Ca(t,n){return function(e){return t+e*n}}function ka(t,n,e){return t=Math.pow(t,e),n=Math.pow(n,e)-t,e=1/e,function(r){return Math.pow(t+r*n,e)}}function Sa(t){return(t=+t)==1?mr:function(n,e){return e-n?ka(n,e,t):ee(isNaN(n)?e:n)}}function mr(t,n){var e=n-t;return e?Ca(t,e):ee(isNaN(t)?n:t)}const pn=function t(n){var e=Sa(n);function r(i,o){var a=e((i=qn(i)).r,(o=qn(o)).r),u=e(i.g,o.g),c=e(i.b,o.b),s=mr(i.opacity,o.opacity);return function(l){return i.r=a(l),i.g=u(l),i.b=c(l),i.opacity=s(l),i+""}}return r.gamma=t,r}(1);function $a(t,n){n||(n=[]);var e=t?Math.min(n.length,t.length):0,r=n.slice(),i;return function(o){for(i=0;i<e;++i)r[i]=t[i]*(1-o)+n[i]*o;return r}}function Na(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function Aa(t,n){var e=n?n.length:0,r=t?Math.min(e,t.length):0,i=new Array(r),o=new Array(e),a;for(a=0;a<r;++a)i[a]=re(t[a],n[a]);for(;a<e;++a)o[a]=n[a];return function(u){for(a=0;a<r;++a)o[a]=i[a](u);return o}}function Da(t,n){var e=new Date;return t=+t,n=+n,function(r){return e.setTime(t*(1-r)+n*r),e}}function K(t,n){return t=+t,n=+n,function(e){return t*(1-e)+n*e}}function Ua(t,n){var e={},r={},i;(t===null||typeof t!="object")&&(t={}),(n===null||typeof n!="object")&&(n={});for(i in n)i in t?e[i]=re(t[i],n[i]):r[i]=n[i];return function(o){for(i in e)r[i]=e[i](o);return r}}var zn=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,An=new RegExp(zn.source,"g");function Fa(t){return function(){return t}}function Ea(t){return function(n){return t(n)+""}}function yr(t,n){var e=zn.lastIndex=An.lastIndex=0,r,i,o,a=-1,u=[],c=[];for(t=t+"",n=n+"";(r=zn.exec(t))&&(i=An.exec(n));)(o=i.index)>e&&(o=n.slice(e,o),u[a]?u[a]+=o:u[++a]=o),(r=r[0])===(i=i[0])?u[a]?u[a]+=i:u[++a]=i:(u[++a]=null,c.push({i:a,x:K(r,i)})),e=An.lastIndex;return e<n.length&&(o=n.slice(e),u[a]?u[a]+=o:u[++a]=o),u.length<2?c[0]?Ea(c[0].x):Fa(n):(n=c.length,function(s){for(var l=0,f;l<n;++l)u[(f=c[l]).i]=f.x(s);return u.join("")})}function re(t,n){var e=typeof n,r;return n==null||e==="boolean"?ee(n):(e==="number"?K:e==="string"?(r=wt(n))?(n=r,pn):yr:n instanceof wt?pn:n instanceof Date?Da:Na(n)?$a:Array.isArray(n)?Aa:typeof n.valueOf!="function"&&typeof n.toString!="function"||isNaN(n)?Ua:K)(t,n)}function La(t,n){return t=+t,n=+n,function(e){return Math.round(t*(1-e)+n*e)}}var ke=180/Math.PI,Xn={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function vr(t,n,e,r,i,o){var a,u,c;return(a=Math.sqrt(t*t+n*n))&&(t/=a,n/=a),(c=t*e+n*r)&&(e-=t*c,r-=n*c),(u=Math.sqrt(e*e+r*r))&&(e/=u,r/=u,c/=u),t*r<n*e&&(t=-t,n=-n,c=-c,a=-a),{translateX:i,translateY:o,rotate:Math.atan2(n,t)*ke,skewX:Math.atan(c)*ke,scaleX:a,scaleY:u}}var nn;function Ia(t){const n=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(t+"");return n.isIdentity?Xn:vr(n.a,n.b,n.c,n.d,n.e,n.f)}function Ha(t){return t==null||(nn||(nn=document.createElementNS("http://www.w3.org/2000/svg","g")),nn.setAttribute("transform",t),!(t=nn.transform.baseVal.consolidate()))?Xn:(t=t.matrix,vr(t.a,t.b,t.c,t.d,t.e,t.f))}function _r(t,n,e,r){function i(s){return s.length?s.pop()+" ":""}function o(s,l,f,h,p,m){if(s!==f||l!==h){var v=p.push("translate(",null,n,null,e);m.push({i:v-4,x:K(s,f)},{i:v-2,x:K(l,h)})}else(f||h)&&p.push("translate("+f+n+h+e)}function a(s,l,f,h){s!==l?(s-l>180?l+=360:l-s>180&&(s+=360),h.push({i:f.push(i(f)+"rotate(",null,r)-2,x:K(s,l)})):l&&f.push(i(f)+"rotate("+l+r)}function u(s,l,f,h){s!==l?h.push({i:f.push(i(f)+"skewX(",null,r)-2,x:K(s,l)}):l&&f.push(i(f)+"skewX("+l+r)}function c(s,l,f,h,p,m){if(s!==f||l!==h){var v=p.push(i(p)+"scale(",null,",",null,")");m.push({i:v-4,x:K(s,f)},{i:v-2,x:K(l,h)})}else(f!==1||h!==1)&&p.push(i(p)+"scale("+f+","+h+")")}return function(s,l){var f=[],h=[];return s=t(s),l=t(l),o(s.translateX,s.translateY,l.translateX,l.translateY,f,h),a(s.rotate,l.rotate,f,h),u(s.skewX,l.skewX,f,h),c(s.scaleX,s.scaleY,l.scaleX,l.scaleY,f,h),s=l=null,function(p){for(var m=-1,v=h.length,C;++m<v;)f[(C=h[m]).i]=C.x(p);return f.join("")}}}var Ya=_r(Ia,"px, ","px)","deg)"),Ra=_r(Ha,", ",")",")"),Dt=0,Ot=0,Lt=0,wr=1e3,gn,Vt,dn=0,xt=0,bn=0,Xt=typeof performance=="object"&&performance.now?performance:Date,xr=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function ie(){return xt||(xr(Pa),xt=Xt.now()+bn)}function Pa(){xt=0}function mn(){this._call=this._time=this._next=null}mn.prototype=Mr.prototype={constructor:mn,restart:function(t,n,e){if(typeof t!="function")throw new TypeError("callback is not a function");e=(e==null?ie():+e)+(n==null?0:+n),!this._next&&Vt!==this&&(Vt?Vt._next=this:gn=this,Vt=this),this._call=t,this._time=e,Bn()},stop:function(){this._call&&(this._call=null,this._time=1/0,Bn())}};function Mr(t,n,e){var r=new mn;return r.restart(t,n,e),r}function Oa(){ie(),++Dt;for(var t=gn,n;t;)(n=xt-t._time)>=0&&t._call.call(void 0,n),t=t._next;--Dt}function Se(){xt=(dn=Xt.now())+bn,Dt=Ot=0;try{Oa()}finally{Dt=0,Wa(),xt=0}}function Va(){var t=Xt.now(),n=t-dn;n>wr&&(bn-=n,dn=t)}function Wa(){for(var t,n=gn,e,r=1/0;n;)n._call?(r>n._time&&(r=n._time),t=n,n=n._next):(e=n._next,n._next=null,n=t?t._next=e:gn=e);Vt=t,Bn(r)}function Bn(t){if(!Dt){Ot&&(Ot=clearTimeout(Ot));var n=t-xt;n>24?(t<1/0&&(Ot=setTimeout(Se,t-Xt.now()-bn)),Lt&&(Lt=clearInterval(Lt))):(Lt||(dn=Xt.now(),Lt=setInterval(Va,wr)),Dt=1,xr(Se))}}function $e(t,n,e){var r=new mn;return n=n==null?0:+n,r.restart(i=>{r.stop(),t(i+n)},n,e),r}var qa=nr("start","end","cancel","interrupt"),za=[],Tr=0,Ne=1,Zn=2,un=3,Ae=4,Gn=5,sn=6;function Cn(t,n,e,r,i,o){var a=t.__transition;if(!a)t.__transition={};else if(e in a)return;Xa(t,e,{name:n,index:r,group:i,on:qa,tween:za,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:Tr})}function oe(t,n){var e=tt(t,n);if(e.state>Tr)throw new Error("too late; already scheduled");return e}function rt(t,n){var e=tt(t,n);if(e.state>un)throw new Error("too late; already running");return e}function tt(t,n){var e=t.__transition;if(!e||!(e=e[n]))throw new Error("transition not found");return e}function Xa(t,n,e){var r=t.__transition,i;r[n]=e,e.timer=Mr(o,0,e.time);function o(s){e.state=Ne,e.timer.restart(a,e.delay,e.time),e.delay<=s&&a(s-e.delay)}function a(s){var l,f,h,p;if(e.state!==Ne)return c();for(l in r)if(p=r[l],p.name===e.name){if(p.state===un)return $e(a);p.state===Ae?(p.state=sn,p.timer.stop(),p.on.call("interrupt",t,t.__data__,p.index,p.group),delete r[l]):+l<n&&(p.state=sn,p.timer.stop(),p.on.call("cancel",t,t.__data__,p.index,p.group),delete r[l])}if($e(function(){e.state===un&&(e.state=Ae,e.timer.restart(u,e.delay,e.time),u(s))}),e.state=Zn,e.on.call("start",t,t.__data__,e.index,e.group),e.state===Zn){for(e.state=un,i=new Array(h=e.tween.length),l=0,f=-1;l<h;++l)(p=e.tween[l].value.call(t,t.__data__,e.index,e.group))&&(i[++f]=p);i.length=f+1}}function u(s){for(var l=s<e.duration?e.ease.call(null,s/e.duration):(e.timer.restart(c),e.state=Gn,1),f=-1,h=i.length;++f<h;)i[f].call(t,l);e.state===Gn&&(e.on.call("end",t,t.__data__,e.index,e.group),c())}function c(){e.state=sn,e.timer.stop(),delete r[n];for(var s in r)return;delete t.__transition}}function Ba(t,n){var e=t.__transition,r,i,o=!0,a;if(e){n=n==null?null:n+"";for(a in e){if((r=e[a]).name!==n){o=!1;continue}i=r.state>Zn&&r.state<Gn,r.state=sn,r.timer.stop(),r.on.call(i?"interrupt":"cancel",t,t.__data__,r.index,r.group),delete e[a]}o&&delete t.__transition}}function Za(t){return this.each(function(){Ba(this,t)})}function Ga(t,n){var e,r;return function(){var i=rt(this,t),o=i.tween;if(o!==e){r=e=o;for(var a=0,u=r.length;a<u;++a)if(r[a].name===n){r=r.slice(),r.splice(a,1);break}}i.tween=r}}function Qa(t,n,e){var r,i;if(typeof e!="function")throw new Error;return function(){var o=rt(this,t),a=o.tween;if(a!==r){i=(r=a).slice();for(var u={name:n,value:e},c=0,s=i.length;c<s;++c)if(i[c].name===n){i[c]=u;break}c===s&&i.push(u)}o.tween=i}}function Ja(t,n){var e=this._id;if(t+="",arguments.length<2){for(var r=tt(this.node(),e).tween,i=0,o=r.length,a;i<o;++i)if((a=r[i]).name===t)return a.value;return null}return this.each((n==null?Ga:Qa)(e,t,n))}function ae(t,n,e){var r=t._id;return t.each(function(){var i=rt(this,r);(i.value||(i.value={}))[n]=e.apply(this,arguments)}),function(i){return tt(i,r).value[n]}}function br(t,n){var e;return(typeof n=="number"?K:n instanceof wt?pn:(e=wt(n))?(n=e,pn):yr)(t,n)}function Ka(t){return function(){this.removeAttribute(t)}}function ja(t){return function(){this.removeAttributeNS(t.space,t.local)}}function tu(t,n,e){var r,i=e+"",o;return function(){var a=this.getAttribute(t);return a===i?null:a===r?o:o=n(r=a,e)}}function nu(t,n,e){var r,i=e+"",o;return function(){var a=this.getAttributeNS(t.space,t.local);return a===i?null:a===r?o:o=n(r=a,e)}}function eu(t,n,e){var r,i,o;return function(){var a,u=e(this),c;return u==null?void this.removeAttribute(t):(a=this.getAttribute(t),c=u+"",a===c?null:a===r&&c===i?o:(i=c,o=n(r=a,u)))}}function ru(t,n,e){var r,i,o;return function(){var a,u=e(this),c;return u==null?void this.removeAttributeNS(t.space,t.local):(a=this.getAttributeNS(t.space,t.local),c=u+"",a===c?null:a===r&&c===i?o:(i=c,o=n(r=a,u)))}}function iu(t,n){var e=Tn(t),r=e==="transform"?Ra:br;return this.attrTween(t,typeof n=="function"?(e.local?ru:eu)(e,r,ae(this,"attr."+t,n)):n==null?(e.local?ja:Ka)(e):(e.local?nu:tu)(e,r,n))}function ou(t,n){return function(e){this.setAttribute(t,n.call(this,e))}}function au(t,n){return function(e){this.setAttributeNS(t.space,t.local,n.call(this,e))}}function uu(t,n){var e,r;function i(){var o=n.apply(this,arguments);return o!==r&&(e=(r=o)&&au(t,o)),e}return i._value=n,i}function su(t,n){var e,r;function i(){var o=n.apply(this,arguments);return o!==r&&(e=(r=o)&&ou(t,o)),e}return i._value=n,i}function cu(t,n){var e="attr."+t;if(arguments.length<2)return(e=this.tween(e))&&e._value;if(n==null)return this.tween(e,null);if(typeof n!="function")throw new Error;var r=Tn(t);return this.tween(e,(r.local?uu:su)(r,n))}function lu(t,n){return function(){oe(this,t).delay=+n.apply(this,arguments)}}function fu(t,n){return n=+n,function(){oe(this,t).delay=n}}function hu(t){var n=this._id;return arguments.length?this.each((typeof t=="function"?lu:fu)(n,t)):tt(this.node(),n).delay}function pu(t,n){return function(){rt(this,t).duration=+n.apply(this,arguments)}}function gu(t,n){return n=+n,function(){rt(this,t).duration=n}}function du(t){var n=this._id;return arguments.length?this.each((typeof t=="function"?pu:gu)(n,t)):tt(this.node(),n).duration}function mu(t,n){if(typeof n!="function")throw new Error;return function(){rt(this,t).ease=n}}function yu(t){var n=this._id;return arguments.length?this.each(mu(n,t)):tt(this.node(),n).ease}function vu(t,n){return function(){var e=n.apply(this,arguments);if(typeof e!="function")throw new Error;rt(this,t).ease=e}}function _u(t){if(typeof t!="function")throw new Error;return this.each(vu(this._id,t))}function wu(t){typeof t!="function"&&(t=ir(t));for(var n=this._groups,e=n.length,r=new Array(e),i=0;i<e;++i)for(var o=n[i],a=o.length,u=r[i]=[],c,s=0;s<a;++s)(c=o[s])&&t.call(c,c.__data__,s,o)&&u.push(c);return new st(r,this._parents,this._name,this._id)}function xu(t){if(t._id!==this._id)throw new Error;for(var n=this._groups,e=t._groups,r=n.length,i=e.length,o=Math.min(r,i),a=new Array(r),u=0;u<o;++u)for(var c=n[u],s=e[u],l=c.length,f=a[u]=new Array(l),h,p=0;p<l;++p)(h=c[p]||s[p])&&(f[p]=h);for(;u<r;++u)a[u]=n[u];return new st(a,this._parents,this._name,this._id)}function Mu(t){return(t+"").trim().split(/^|\s+/).every(function(n){var e=n.indexOf(".");return e>=0&&(n=n.slice(0,e)),!n||n==="start"})}function Tu(t,n,e){var r,i,o=Mu(n)?oe:rt;return function(){var a=o(this,t),u=a.on;u!==r&&(i=(r=u).copy()).on(n,e),a.on=i}}function bu(t,n){var e=this._id;return arguments.length<2?tt(this.node(),e).on.on(t):this.each(Tu(e,t,n))}function Cu(t){return function(){var n=this.parentNode;for(var e in this.__transition)if(+e!==t)return;n&&n.removeChild(this)}}function ku(){return this.on("end.remove",Cu(this._id))}function Su(t){var n=this._name,e=this._id;typeof t!="function"&&(t=jn(t));for(var r=this._groups,i=r.length,o=new Array(i),a=0;a<i;++a)for(var u=r[a],c=u.length,s=o[a]=new Array(c),l,f,h=0;h<c;++h)(l=u[h])&&(f=t.call(l,l.__data__,h,u))&&("__data__"in l&&(f.__data__=l.__data__),s[h]=f,Cn(s[h],n,e,h,s,tt(l,e)));return new st(o,this._parents,n,e)}function $u(t){var n=this._name,e=this._id;typeof t!="function"&&(t=rr(t));for(var r=this._groups,i=r.length,o=[],a=[],u=0;u<i;++u)for(var c=r[u],s=c.length,l,f=0;f<s;++f)if(l=c[f]){for(var h=t.call(l,l.__data__,f,c),p,m=tt(l,e),v=0,C=h.length;v<C;++v)(p=h[v])&&Cn(p,n,e,v,h,m);o.push(h),a.push(l)}return new st(o,a,n,e)}var Nu=Bt.prototype.constructor;function Au(){return new Nu(this._groups,this._parents)}function Du(t,n){var e,r,i;return function(){var o=At(this,t),a=(this.style.removeProperty(t),At(this,t));return o===a?null:o===e&&a===r?i:i=n(e=o,r=a)}}function Cr(t){return function(){this.style.removeProperty(t)}}function Uu(t,n,e){var r,i=e+"",o;return function(){var a=At(this,t);return a===i?null:a===r?o:o=n(r=a,e)}}function Fu(t,n,e){var r,i,o;return function(){var a=At(this,t),u=e(this),c=u+"";return u==null&&(c=u=(this.style.removeProperty(t),At(this,t))),a===c?null:a===r&&c===i?o:(i=c,o=n(r=a,u))}}function Eu(t,n){var e,r,i,o="style."+n,a="end."+o,u;return function(){var c=rt(this,t),s=c.on,l=c.value[o]==null?u||(u=Cr(n)):void 0;(s!==e||i!==l)&&(r=(e=s).copy()).on(a,i=l),c.on=r}}function Lu(t,n,e){var r=(t+="")=="transform"?Ya:br;return n==null?this.styleTween(t,Du(t,r)).on("end.style."+t,Cr(t)):typeof n=="function"?this.styleTween(t,Fu(t,r,ae(this,"style."+t,n))).each(Eu(this._id,t)):this.styleTween(t,Uu(t,r,n),e).on("end.style."+t,null)}function Iu(t,n,e){return function(r){this.style.setProperty(t,n.call(this,r),e)}}function Hu(t,n,e){var r,i;function o(){var a=n.apply(this,arguments);return a!==i&&(r=(i=a)&&Iu(t,a,e)),r}return o._value=n,o}function Yu(t,n,e){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(n==null)return this.tween(r,null);if(typeof n!="function")throw new Error;return this.tween(r,Hu(t,n,e??""))}function Ru(t){return function(){this.textContent=t}}function Pu(t){return function(){var n=t(this);this.textContent=n??""}}function Ou(t){return this.tween("text",typeof t=="function"?Pu(ae(this,"text",t)):Ru(t==null?"":t+""))}function Vu(t){return function(n){this.textContent=t.call(this,n)}}function Wu(t){var n,e;function r(){var i=t.apply(this,arguments);return i!==e&&(n=(e=i)&&Vu(i)),n}return r._value=t,r}function qu(t){var n="text";if(arguments.length<1)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;return this.tween(n,Wu(t))}function zu(){for(var t=this._name,n=this._id,e=kr(),r=this._groups,i=r.length,o=0;o<i;++o)for(var a=r[o],u=a.length,c,s=0;s<u;++s)if(c=a[s]){var l=tt(c,n);Cn(c,t,e,s,a,{time:l.time+l.delay+l.duration,delay:0,duration:l.duration,ease:l.ease})}return new st(r,this._parents,t,e)}function Xu(){var t,n,e=this,r=e._id,i=e.size();return new Promise(function(o,a){var u={value:a},c={value:function(){--i===0&&o()}};e.each(function(){var s=rt(this,r),l=s.on;l!==t&&(n=(t=l).copy(),n._.cancel.push(u),n._.interrupt.push(u),n._.end.push(c)),s.on=n}),i===0&&o()})}var Bu=0;function st(t,n,e,r){this._groups=t,this._parents=n,this._name=e,this._id=r}function kr(){return++Bu}var ot=Bt.prototype;st.prototype={constructor:st,select:Su,selectAll:$u,selectChild:ot.selectChild,selectChildren:ot.selectChildren,filter:wu,merge:xu,selection:Au,transition:zu,call:ot.call,nodes:ot.nodes,node:ot.node,size:ot.size,empty:ot.empty,each:ot.each,on:bu,attr:iu,attrTween:cu,style:Lu,styleTween:Yu,text:Ou,textTween:qu,remove:ku,tween:Ja,delay:hu,duration:du,ease:yu,easeVarying:_u,end:Xu,[Symbol.iterator]:ot[Symbol.iterator]};function Zu(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}var Gu={time:null,delay:0,duration:250,ease:Zu};function Qu(t,n){for(var e;!(e=t.__transition)||!(e=e[n]);)if(!(t=t.parentNode))throw new Error(`transition ${n} not found`);return e}function Ju(t){var n,e;t instanceof st?(n=t._id,t=t._name):(n=kr(),(e=Gu).time=ie(),t=t==null?null:t+"");for(var r=this._groups,i=r.length,o=0;o<i;++o)for(var a=r[o],u=a.length,c,s=0;s<u;++s)(c=a[s])&&Cn(c,t,n,s,a,e||Qu(c,n));return new st(r,this._parents,t,n)}Bt.prototype.interrupt=Za;Bt.prototype.transition=Ju;const Qn=Math.PI,Jn=2*Qn,yt=1e-6,Ku=Jn-yt;function Sr(t){this._+=t[0];for(let n=1,e=t.length;n<e;++n)this._+=arguments[n]+t[n]}function ju(t){let n=Math.floor(t);if(!(n>=0))throw new Error(`invalid digits: ${t}`);if(n>15)return Sr;const e=10**n;return function(r){this._+=r[0];for(let i=1,o=r.length;i<o;++i)this._+=Math.round(arguments[i]*e)/e+r[i]}}class ts{constructor(n){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=n==null?Sr:ju(n)}moveTo(n,e){this._append`M${this._x0=this._x1=+n},${this._y0=this._y1=+e}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(n,e){this._append`L${this._x1=+n},${this._y1=+e}`}quadraticCurveTo(n,e,r,i){this._append`Q${+n},${+e},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(n,e,r,i,o,a){this._append`C${+n},${+e},${+r},${+i},${this._x1=+o},${this._y1=+a}`}arcTo(n,e,r,i,o){if(n=+n,e=+e,r=+r,i=+i,o=+o,o<0)throw new Error(`negative radius: ${o}`);let a=this._x1,u=this._y1,c=r-n,s=i-e,l=a-n,f=u-e,h=l*l+f*f;if(this._x1===null)this._append`M${this._x1=n},${this._y1=e}`;else if(h>yt)if(!(Math.abs(f*c-s*l)>yt)||!o)this._append`L${this._x1=n},${this._y1=e}`;else{let p=r-a,m=i-u,v=c*c+s*s,C=p*p+m*m,S=Math.sqrt(v),g=Math.sqrt(h),y=o*Math.tan((Qn-Math.acos((v+h-C)/(2*S*g)))/2),x=y/g,M=y/S;Math.abs(x-1)>yt&&this._append`L${n+x*l},${e+x*f}`,this._append`A${o},${o},0,0,${+(f*p>l*m)},${this._x1=n+M*c},${this._y1=e+M*s}`}}arc(n,e,r,i,o,a){if(n=+n,e=+e,r=+r,a=!!a,r<0)throw new Error(`negative radius: ${r}`);let u=r*Math.cos(i),c=r*Math.sin(i),s=n+u,l=e+c,f=1^a,h=a?i-o:o-i;this._x1===null?this._append`M${s},${l}`:(Math.abs(this._x1-s)>yt||Math.abs(this._y1-l)>yt)&&this._append`L${s},${l}`,r&&(h<0&&(h=h%Jn+Jn),h>Ku?this._append`A${r},${r},0,1,${f},${n-u},${e-c}A${r},${r},0,1,${f},${this._x1=s},${this._y1=l}`:h>yt&&this._append`A${r},${r},0,${+(h>=Qn)},${f},${this._x1=n+r*Math.cos(o)},${this._y1=e+r*Math.sin(o)}`)}rect(n,e,r,i){this._append`M${this._x0=this._x1=+n},${this._y0=this._y1=+e}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}var De={},Dn={},Un=34,It=10,Fn=13;function $r(t){return new Function("d","return {"+t.map(function(n,e){return JSON.stringify(n)+": d["+e+'] || ""'}).join(",")+"}")}function ns(t,n){var e=$r(t);return function(r,i){return n(e(r),i,t)}}function Ue(t){var n=Object.create(null),e=[];return t.forEach(function(r){for(var i in r)i in n||e.push(n[i]=i)}),e}function O(t,n){var e=t+"",r=e.length;return r<n?new Array(n-r+1).join(0)+e:e}function es(t){return t<0?"-"+O(-t,6):t>9999?"+"+O(t,6):O(t,4)}function rs(t){var n=t.getUTCHours(),e=t.getUTCMinutes(),r=t.getUTCSeconds(),i=t.getUTCMilliseconds();return isNaN(t)?"Invalid Date":es(t.getUTCFullYear())+"-"+O(t.getUTCMonth()+1,2)+"-"+O(t.getUTCDate(),2)+(i?"T"+O(n,2)+":"+O(e,2)+":"+O(r,2)+"."+O(i,3)+"Z":r?"T"+O(n,2)+":"+O(e,2)+":"+O(r,2)+"Z":e||n?"T"+O(n,2)+":"+O(e,2)+"Z":"")}function is(t){var n=new RegExp('["'+t+`
\r]`),e=t.charCodeAt(0);function r(f,h){var p,m,v=i(f,function(C,S){if(p)return p(C,S-1);m=C,p=h?ns(C,h):$r(C)});return v.columns=m||[],v}function i(f,h){var p=[],m=f.length,v=0,C=0,S,g=m<=0,y=!1;f.charCodeAt(m-1)===It&&--m,f.charCodeAt(m-1)===Fn&&--m;function x(){if(g)return Dn;if(y)return y=!1,De;var _,T=v,D;if(f.charCodeAt(T)===Un){for(;v++<m&&f.charCodeAt(v)!==Un||f.charCodeAt(++v)===Un;);return(_=v)>=m?g=!0:(D=f.charCodeAt(v++))===It?y=!0:D===Fn&&(y=!0,f.charCodeAt(v)===It&&++v),f.slice(T+1,_-1).replace(/""/g,'"')}for(;v<m;){if((D=f.charCodeAt(_=v++))===It)y=!0;else if(D===Fn)y=!0,f.charCodeAt(v)===It&&++v;else if(D!==e)continue;return f.slice(T,_)}return g=!0,f.slice(T,m)}for(;(S=x())!==Dn;){for(var M=[];S!==De&&S!==Dn;)M.push(S),S=x();h&&(M=h(M,C++))==null||p.push(M)}return p}function o(f,h){return f.map(function(p){return h.map(function(m){return l(p[m])}).join(t)})}function a(f,h){return h==null&&(h=Ue(f)),[h.map(l).join(t)].concat(o(f,h)).join(`
`)}function u(f,h){return h==null&&(h=Ue(f)),o(f,h).join(`
`)}function c(f){return f.map(s).join(`
`)}function s(f){return f.map(l).join(t)}function l(f){return f==null?"":f instanceof Date?rs(f):n.test(f+="")?'"'+f.replace(/"/g,'""')+'"':f}return{parse:r,parseRows:i,format:a,formatBody:u,formatRows:c,formatRow:s,formatValue:l}}var os=is(","),as=os.parse;function us(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);return t.text()}function ss(t,n){return fetch(t,n).then(us)}function cs(t){return function(n,e,r){return arguments.length===2&&typeof e=="function"&&(r=e,e=void 0),ss(n,e).then(function(i){return t(i,r)})}}var ls=cs(as);function fs(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);if(!(t.status===204||t.status===205))return t.json()}function hs(t,n){return fetch(t,n).then(fs)}function ps(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function yn(t,n){if((e=(t=n?t.toExponential(n-1):t.toExponential()).indexOf("e"))<0)return null;var e,r=t.slice(0,e);return[r.length>1?r[0]+r.slice(2):r,+t.slice(e+1)]}function Ut(t){return t=yn(Math.abs(t)),t?t[1]:NaN}function gs(t,n){return function(e,r){for(var i=e.length,o=[],a=0,u=t[0],c=0;i>0&&u>0&&(c+u+1>r&&(u=Math.max(1,r-c)),o.push(e.substring(i-=u,i+u)),!((c+=u+1)>r));)u=t[a=(a+1)%t.length];return o.reverse().join(n)}}function ds(t){return function(n){return n.replace(/[0-9]/g,function(e){return t[+e]})}}var ms=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function vn(t){if(!(n=ms.exec(t)))throw new Error("invalid format: "+t);var n;return new ue({fill:n[1],align:n[2],sign:n[3],symbol:n[4],zero:n[5],width:n[6],comma:n[7],precision:n[8]&&n[8].slice(1),trim:n[9],type:n[10]})}vn.prototype=ue.prototype;function ue(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}ue.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function ys(t){t:for(var n=t.length,e=1,r=-1,i;e<n;++e)switch(t[e]){case".":r=i=e;break;case"0":r===0&&(r=e),i=e;break;default:if(!+t[e])break t;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var Nr;function vs(t,n){var e=yn(t,n);if(!e)return t+"";var r=e[0],i=e[1],o=i-(Nr=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,a=r.length;return o===a?r:o>a?r+new Array(o-a+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+yn(t,Math.max(0,n+o-1))[0]}function Fe(t,n){var e=yn(t,n);if(!e)return t+"";var r=e[0],i=e[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const Ee={"%":(t,n)=>(t*100).toFixed(n),b:t=>Math.round(t).toString(2),c:t=>t+"",d:ps,e:(t,n)=>t.toExponential(n),f:(t,n)=>t.toFixed(n),g:(t,n)=>t.toPrecision(n),o:t=>Math.round(t).toString(8),p:(t,n)=>Fe(t*100,n),r:Fe,s:vs,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function Le(t){return t}var Ie=Array.prototype.map,He=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function _s(t){var n=t.grouping===void 0||t.thousands===void 0?Le:gs(Ie.call(t.grouping,Number),t.thousands+""),e=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",o=t.numerals===void 0?Le:ds(Ie.call(t.numerals,String)),a=t.percent===void 0?"%":t.percent+"",u=t.minus===void 0?"":t.minus+"",c=t.nan===void 0?"NaN":t.nan+"";function s(f){f=vn(f);var h=f.fill,p=f.align,m=f.sign,v=f.symbol,C=f.zero,S=f.width,g=f.comma,y=f.precision,x=f.trim,M=f.type;M==="n"?(g=!0,M="g"):Ee[M]||(y===void 0&&(y=12),x=!0,M="g"),(C||h==="0"&&p==="=")&&(C=!0,h="0",p="=");var _=v==="$"?e:v==="#"&&/[boxX]/.test(M)?"0"+M.toLowerCase():"",T=v==="$"?r:/[%p]/.test(M)?a:"",D=Ee[M],X=/[defgprs%]/.test(M);y=y===void 0?6:/[gprs]/.test(M)?Math.max(1,Math.min(21,y)):Math.max(0,Math.min(20,y));function Y(b){var U=_,A=T,L,ft,Q;if(M==="c")A=D(b)+A,b="";else{b=+b;var nt=b<0||1/b<0;if(b=isNaN(b)?c:D(Math.abs(b),y),x&&(b=ys(b)),nt&&+b==0&&m!=="+"&&(nt=!1),U=(nt?m==="("?m:u:m==="-"||m==="("?"":m)+U,A=(M==="s"?He[8+Nr/3]:"")+A+(nt&&m==="("?")":""),X){for(L=-1,ft=b.length;++L<ft;)if(Q=b.charCodeAt(L),48>Q||Q>57){A=(Q===46?i+b.slice(L+1):b.slice(L))+A,b=b.slice(0,L);break}}}g&&!C&&(b=n(b,1/0));var it=U.length+b.length+A.length,J=it<S?new Array(S-it+1).join(h):"";switch(g&&C&&(b=n(J+b,J.length?S-A.length:1/0),J=""),p){case"<":b=U+b+A+J;break;case"=":b=U+J+b+A;break;case"^":b=J.slice(0,it=J.length>>1)+U+b+A+J.slice(it);break;default:b=J+U+b+A;break}return o(b)}return Y.toString=function(){return f+""},Y}function l(f,h){var p=s((f=vn(f),f.type="f",f)),m=Math.max(-8,Math.min(8,Math.floor(Ut(h)/3)))*3,v=Math.pow(10,-m),C=He[8+m/3];return function(S){return p(v*S)+C}}return{format:s,formatPrefix:l}}var en,Ar,Dr;ws({thousands:",",grouping:[3],currency:["$",""]});function ws(t){return en=_s(t),Ar=en.format,Dr=en.formatPrefix,en}function xs(t){return Math.max(0,-Ut(Math.abs(t)))}function Ms(t,n){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Ut(n)/3)))*3-Ut(Math.abs(t)))}function Ts(t,n){return t=Math.abs(t),n=Math.abs(n)-t,Math.max(0,Ut(n)-Ut(t))+1}function Ur(t,n){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(n).domain(t);break}return this}function bs(t){return function(){return t}}function Cs(t){return+t}var Ye=[0,1];function St(t){return t}function Kn(t,n){return(n-=t=+t)?function(e){return(e-t)/n}:bs(isNaN(n)?NaN:.5)}function ks(t,n){var e;return t>n&&(e=t,t=n,n=e),function(r){return Math.max(t,Math.min(n,r))}}function Ss(t,n,e){var r=t[0],i=t[1],o=n[0],a=n[1];return i<r?(r=Kn(i,r),o=e(a,o)):(r=Kn(r,i),o=e(o,a)),function(u){return o(r(u))}}function $s(t,n,e){var r=Math.min(t.length,n.length)-1,i=new Array(r),o=new Array(r),a=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),n=n.slice().reverse());++a<r;)i[a]=Kn(t[a],t[a+1]),o[a]=e(n[a],n[a+1]);return function(u){var c=pi(t,u,1,r)-1;return o[c](i[c](u))}}function Fr(t,n){return n.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function Ns(){var t=Ye,n=Ye,e=re,r,i,o,a=St,u,c,s;function l(){var h=Math.min(t.length,n.length);return a!==St&&(a=ks(t[0],t[h-1])),u=h>2?$s:Ss,c=s=null,f}function f(h){return h==null||isNaN(h=+h)?o:(c||(c=u(t.map(r),n,e)))(r(a(h)))}return f.invert=function(h){return a(i((s||(s=u(n,t.map(r),K)))(h)))},f.domain=function(h){return arguments.length?(t=Array.from(h,Cs),l()):t.slice()},f.range=function(h){return arguments.length?(n=Array.from(h),l()):n.slice()},f.rangeRound=function(h){return n=Array.from(h),e=La,l()},f.clamp=function(h){return arguments.length?(a=h?!0:St,l()):a!==St},f.interpolate=function(h){return arguments.length?(e=h,l()):e},f.unknown=function(h){return arguments.length?(o=h,f):o},function(h,p){return r=h,i=p,l()}}function Er(){return Ns()(St,St)}function As(t,n,e,r){var i=On(t,n,e),o;switch(r=vn(r??",f"),r.type){case"s":{var a=Math.max(Math.abs(t),Math.abs(n));return r.precision==null&&!isNaN(o=Ms(i,a))&&(r.precision=o),Dr(r,a)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(o=Ts(i,Math.max(Math.abs(t),Math.abs(n))))&&(r.precision=o-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(o=xs(i))&&(r.precision=o-(r.type==="%")*2);break}}return Ar(r)}function Ds(t){var n=t.domain;return t.ticks=function(e){var r=n();return vi(r[0],r[r.length-1],e??10)},t.tickFormat=function(e,r){var i=n();return As(i[0],i[i.length-1],e??10,r)},t.nice=function(e){e==null&&(e=10);var r=n(),i=0,o=r.length-1,a=r[i],u=r[o],c,s,l=10;for(u<a&&(s=a,a=u,u=s,s=i,i=o,o=s);l-- >0;){if(s=Pn(a,u,e),s===c)return r[i]=a,r[o]=u,n(r);if(s>0)a=Math.floor(a/s)*s,u=Math.ceil(u/s)*s;else if(s<0)a=Math.ceil(a*s)/s,u=Math.floor(u*s)/s;else break;c=s}return t},t}function Lr(){var t=Er();return t.copy=function(){return Fr(t,Lr())},Ur.apply(t,arguments),Ds(t)}function Us(t,n){t=t.slice();var e=0,r=t.length-1,i=t[e],o=t[r],a;return o<i&&(a=e,e=r,r=a,a=i,i=o,o=a),t[e]=n.floor(i),t[r]=n.ceil(o),t}const En=new Date,Ln=new Date;function H(t,n,e,r){function i(o){return t(o=arguments.length===0?new Date:new Date(+o)),o}return i.floor=o=>(t(o=new Date(+o)),o),i.ceil=o=>(t(o=new Date(o-1)),n(o,1),t(o),o),i.round=o=>{const a=i(o),u=i.ceil(o);return o-a<u-o?a:u},i.offset=(o,a)=>(n(o=new Date(+o),a==null?1:Math.floor(a)),o),i.range=(o,a,u)=>{const c=[];if(o=i.ceil(o),u=u==null?1:Math.floor(u),!(o<a)||!(u>0))return c;let s;do c.push(s=new Date(+o)),n(o,u),t(o);while(s<o&&o<a);return c},i.filter=o=>H(a=>{if(a>=a)for(;t(a),!o(a);)a.setTime(a-1)},(a,u)=>{if(a>=a)if(u<0)for(;++u<=0;)for(;n(a,-1),!o(a););else for(;--u>=0;)for(;n(a,1),!o(a););}),e&&(i.count=(o,a)=>(En.setTime(+o),Ln.setTime(+a),t(En),t(Ln),Math.floor(e(En,Ln))),i.every=o=>(o=Math.floor(o),!isFinite(o)||!(o>0)?null:o>1?i.filter(r?a=>r(a)%o===0:a=>i.count(0,a)%o===0):i)),i}const _n=H(()=>{},(t,n)=>{t.setTime(+t+n)},(t,n)=>n-t);_n.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?H(n=>{n.setTime(Math.floor(n/t)*t)},(n,e)=>{n.setTime(+n+e*t)},(n,e)=>(e-n)/t):_n);_n.range;const at=1e3,G=at*60,ut=G*60,ct=ut*24,se=ct*7,Re=ct*30,In=ct*365,$t=H(t=>{t.setTime(t-t.getMilliseconds())},(t,n)=>{t.setTime(+t+n*at)},(t,n)=>(n-t)/at,t=>t.getUTCSeconds());$t.range;const ce=H(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*at)},(t,n)=>{t.setTime(+t+n*G)},(t,n)=>(n-t)/G,t=>t.getMinutes());ce.range;const Fs=H(t=>{t.setUTCSeconds(0,0)},(t,n)=>{t.setTime(+t+n*G)},(t,n)=>(n-t)/G,t=>t.getUTCMinutes());Fs.range;const le=H(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*at-t.getMinutes()*G)},(t,n)=>{t.setTime(+t+n*ut)},(t,n)=>(n-t)/ut,t=>t.getHours());le.range;const Es=H(t=>{t.setUTCMinutes(0,0,0)},(t,n)=>{t.setTime(+t+n*ut)},(t,n)=>(n-t)/ut,t=>t.getUTCHours());Es.range;const Gt=H(t=>t.setHours(0,0,0,0),(t,n)=>t.setDate(t.getDate()+n),(t,n)=>(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*G)/ct,t=>t.getDate()-1);Gt.range;const fe=H(t=>{t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCDate(t.getUTCDate()+n)},(t,n)=>(n-t)/ct,t=>t.getUTCDate()-1);fe.range;const Ls=H(t=>{t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCDate(t.getUTCDate()+n)},(t,n)=>(n-t)/ct,t=>Math.floor(t/ct));Ls.range;function Tt(t){return H(n=>{n.setDate(n.getDate()-(n.getDay()+7-t)%7),n.setHours(0,0,0,0)},(n,e)=>{n.setDate(n.getDate()+e*7)},(n,e)=>(e-n-(e.getTimezoneOffset()-n.getTimezoneOffset())*G)/se)}const kn=Tt(0),wn=Tt(1),Is=Tt(2),Hs=Tt(3),Ft=Tt(4),Ys=Tt(5),Rs=Tt(6);kn.range;wn.range;Is.range;Hs.range;Ft.range;Ys.range;Rs.range;function bt(t){return H(n=>{n.setUTCDate(n.getUTCDate()-(n.getUTCDay()+7-t)%7),n.setUTCHours(0,0,0,0)},(n,e)=>{n.setUTCDate(n.getUTCDate()+e*7)},(n,e)=>(e-n)/se)}const Ir=bt(0),xn=bt(1),Ps=bt(2),Os=bt(3),Et=bt(4),Vs=bt(5),Ws=bt(6);Ir.range;xn.range;Ps.range;Os.range;Et.range;Vs.range;Ws.range;const he=H(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,n)=>{t.setMonth(t.getMonth()+n)},(t,n)=>n.getMonth()-t.getMonth()+(n.getFullYear()-t.getFullYear())*12,t=>t.getMonth());he.range;const qs=H(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCMonth(t.getUTCMonth()+n)},(t,n)=>n.getUTCMonth()-t.getUTCMonth()+(n.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());qs.range;const lt=H(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,n)=>{t.setFullYear(t.getFullYear()+n)},(t,n)=>n.getFullYear()-t.getFullYear(),t=>t.getFullYear());lt.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:H(n=>{n.setFullYear(Math.floor(n.getFullYear()/t)*t),n.setMonth(0,1),n.setHours(0,0,0,0)},(n,e)=>{n.setFullYear(n.getFullYear()+e*t)});lt.range;const Mt=H(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n)},(t,n)=>n.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());Mt.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:H(n=>{n.setUTCFullYear(Math.floor(n.getUTCFullYear()/t)*t),n.setUTCMonth(0,1),n.setUTCHours(0,0,0,0)},(n,e)=>{n.setUTCFullYear(n.getUTCFullYear()+e*t)});Mt.range;function zs(t,n,e,r,i,o){const a=[[$t,1,at],[$t,5,5*at],[$t,15,15*at],[$t,30,30*at],[o,1,G],[o,5,5*G],[o,15,15*G],[o,30,30*G],[i,1,ut],[i,3,3*ut],[i,6,6*ut],[i,12,12*ut],[r,1,ct],[r,2,2*ct],[e,1,se],[n,1,Re],[n,3,3*Re],[t,1,In]];function u(s,l,f){const h=l<s;h&&([s,l]=[l,s]);const p=f&&typeof f.range=="function"?f:c(s,l,f),m=p?p.range(s,+l+1):[];return h?m.reverse():m}function c(s,l,f){const h=Math.abs(l-s)/f,p=Mn(([,,C])=>C).right(a,h);if(p===a.length)return t.every(On(s/In,l/In,f));if(p===0)return _n.every(Math.max(On(s,l,f),1));const[m,v]=a[h/a[p-1][2]<a[p][2]/h?p-1:p];return m.every(v)}return[u,c]}const[Xs,Bs]=zs(lt,he,kn,Gt,le,ce);function Hn(t){if(0<=t.y&&t.y<100){var n=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return n.setFullYear(t.y),n}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function Yn(t){if(0<=t.y&&t.y<100){var n=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return n.setUTCFullYear(t.y),n}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Ht(t,n,e){return{y:t,m:n,d:e,H:0,M:0,S:0,L:0}}function Zs(t){var n=t.dateTime,e=t.date,r=t.time,i=t.periods,o=t.days,a=t.shortDays,u=t.months,c=t.shortMonths,s=Yt(i),l=Rt(i),f=Yt(o),h=Rt(o),p=Yt(a),m=Rt(a),v=Yt(u),C=Rt(u),S=Yt(c),g=Rt(c),y={a:nt,A:it,b:J,B:qr,c:null,d:ze,e:ze,f:yc,g:Sc,G:Nc,H:gc,I:dc,j:mc,L:Hr,m:vc,M:_c,p:zr,q:Xr,Q:Ze,s:Ge,S:wc,u:xc,U:Mc,V:Tc,w:bc,W:Cc,x:null,X:null,y:kc,Y:$c,Z:Ac,"%":Be},x={a:Br,A:Zr,b:Gr,B:Qr,c:null,d:Xe,e:Xe,f:Ec,g:qc,G:Xc,H:Dc,I:Uc,j:Fc,L:Rr,m:Lc,M:Ic,p:Jr,q:Kr,Q:Ze,s:Ge,S:Hc,u:Yc,U:Rc,V:Pc,w:Oc,W:Vc,x:null,X:null,y:Wc,Y:zc,Z:Bc,"%":Be},M={a:Y,A:b,b:U,B:A,c:L,d:We,e:We,f:lc,g:Ve,G:Oe,H:qe,I:qe,j:ac,L:cc,m:oc,M:uc,p:X,q:ic,Q:hc,s:pc,S:sc,u:js,U:tc,V:nc,w:Ks,W:ec,x:ft,X:Q,y:Ve,Y:Oe,Z:rc,"%":fc};y.x=_(e,y),y.X=_(r,y),y.c=_(n,y),x.x=_(e,x),x.X=_(r,x),x.c=_(n,x);function _(w,k){return function($){var d=[],P=-1,F=0,W=w.length,q,pt,pe;for($ instanceof Date||($=new Date(+$));++P<W;)w.charCodeAt(P)===37&&(d.push(w.slice(F,P)),(pt=Pe[q=w.charAt(++P)])!=null?q=w.charAt(++P):pt=q==="e"?" ":"0",(pe=k[q])&&(q=pe($,pt)),d.push(q),F=P+1);return d.push(w.slice(F,P)),d.join("")}}function T(w,k){return function($){var d=Ht(1900,void 0,1),P=D(d,w,$+="",0),F,W;if(P!=$.length)return null;if("Q"in d)return new Date(d.Q);if("s"in d)return new Date(d.s*1e3+("L"in d?d.L:0));if(k&&!("Z"in d)&&(d.Z=0),"p"in d&&(d.H=d.H%12+d.p*12),d.m===void 0&&(d.m="q"in d?d.q:0),"V"in d){if(d.V<1||d.V>53)return null;"w"in d||(d.w=1),"Z"in d?(F=Yn(Ht(d.y,0,1)),W=F.getUTCDay(),F=W>4||W===0?xn.ceil(F):xn(F),F=fe.offset(F,(d.V-1)*7),d.y=F.getUTCFullYear(),d.m=F.getUTCMonth(),d.d=F.getUTCDate()+(d.w+6)%7):(F=Hn(Ht(d.y,0,1)),W=F.getDay(),F=W>4||W===0?wn.ceil(F):wn(F),F=Gt.offset(F,(d.V-1)*7),d.y=F.getFullYear(),d.m=F.getMonth(),d.d=F.getDate()+(d.w+6)%7)}else("W"in d||"U"in d)&&("w"in d||(d.w="u"in d?d.u%7:"W"in d?1:0),W="Z"in d?Yn(Ht(d.y,0,1)).getUTCDay():Hn(Ht(d.y,0,1)).getDay(),d.m=0,d.d="W"in d?(d.w+6)%7+d.W*7-(W+5)%7:d.w+d.U*7-(W+6)%7);return"Z"in d?(d.H+=d.Z/100|0,d.M+=d.Z%100,Yn(d)):Hn(d)}}function D(w,k,$,d){for(var P=0,F=k.length,W=$.length,q,pt;P<F;){if(d>=W)return-1;if(q=k.charCodeAt(P++),q===37){if(q=k.charAt(P++),pt=M[q in Pe?k.charAt(P++):q],!pt||(d=pt(w,$,d))<0)return-1}else if(q!=$.charCodeAt(d++))return-1}return d}function X(w,k,$){var d=s.exec(k.slice($));return d?(w.p=l.get(d[0].toLowerCase()),$+d[0].length):-1}function Y(w,k,$){var d=p.exec(k.slice($));return d?(w.w=m.get(d[0].toLowerCase()),$+d[0].length):-1}function b(w,k,$){var d=f.exec(k.slice($));return d?(w.w=h.get(d[0].toLowerCase()),$+d[0].length):-1}function U(w,k,$){var d=S.exec(k.slice($));return d?(w.m=g.get(d[0].toLowerCase()),$+d[0].length):-1}function A(w,k,$){var d=v.exec(k.slice($));return d?(w.m=C.get(d[0].toLowerCase()),$+d[0].length):-1}function L(w,k,$){return D(w,n,k,$)}function ft(w,k,$){return D(w,e,k,$)}function Q(w,k,$){return D(w,r,k,$)}function nt(w){return a[w.getDay()]}function it(w){return o[w.getDay()]}function J(w){return c[w.getMonth()]}function qr(w){return u[w.getMonth()]}function zr(w){return i[+(w.getHours()>=12)]}function Xr(w){return 1+~~(w.getMonth()/3)}function Br(w){return a[w.getUTCDay()]}function Zr(w){return o[w.getUTCDay()]}function Gr(w){return c[w.getUTCMonth()]}function Qr(w){return u[w.getUTCMonth()]}function Jr(w){return i[+(w.getUTCHours()>=12)]}function Kr(w){return 1+~~(w.getUTCMonth()/3)}return{format:function(w){var k=_(w+="",y);return k.toString=function(){return w},k},parse:function(w){var k=T(w+="",!1);return k.toString=function(){return w},k},utcFormat:function(w){var k=_(w+="",x);return k.toString=function(){return w},k},utcParse:function(w){var k=T(w+="",!0);return k.toString=function(){return w},k}}}var Pe={"-":"",_:" ",0:"0"},R=/^\s*\d+/,Gs=/^%/,Qs=/[\\^$*+?|[\]().{}]/g;function N(t,n,e){var r=t<0?"-":"",i=(r?-t:t)+"",o=i.length;return r+(o<e?new Array(e-o+1).join(n)+i:i)}function Js(t){return t.replace(Qs,"\\$&")}function Yt(t){return new RegExp("^(?:"+t.map(Js).join("|")+")","i")}function Rt(t){return new Map(t.map((n,e)=>[n.toLowerCase(),e]))}function Ks(t,n,e){var r=R.exec(n.slice(e,e+1));return r?(t.w=+r[0],e+r[0].length):-1}function js(t,n,e){var r=R.exec(n.slice(e,e+1));return r?(t.u=+r[0],e+r[0].length):-1}function tc(t,n,e){var r=R.exec(n.slice(e,e+2));return r?(t.U=+r[0],e+r[0].length):-1}function nc(t,n,e){var r=R.exec(n.slice(e,e+2));return r?(t.V=+r[0],e+r[0].length):-1}function ec(t,n,e){var r=R.exec(n.slice(e,e+2));return r?(t.W=+r[0],e+r[0].length):-1}function Oe(t,n,e){var r=R.exec(n.slice(e,e+4));return r?(t.y=+r[0],e+r[0].length):-1}function Ve(t,n,e){var r=R.exec(n.slice(e,e+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),e+r[0].length):-1}function rc(t,n,e){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(n.slice(e,e+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),e+r[0].length):-1}function ic(t,n,e){var r=R.exec(n.slice(e,e+1));return r?(t.q=r[0]*3-3,e+r[0].length):-1}function oc(t,n,e){var r=R.exec(n.slice(e,e+2));return r?(t.m=r[0]-1,e+r[0].length):-1}function We(t,n,e){var r=R.exec(n.slice(e,e+2));return r?(t.d=+r[0],e+r[0].length):-1}function ac(t,n,e){var r=R.exec(n.slice(e,e+3));return r?(t.m=0,t.d=+r[0],e+r[0].length):-1}function qe(t,n,e){var r=R.exec(n.slice(e,e+2));return r?(t.H=+r[0],e+r[0].length):-1}function uc(t,n,e){var r=R.exec(n.slice(e,e+2));return r?(t.M=+r[0],e+r[0].length):-1}function sc(t,n,e){var r=R.exec(n.slice(e,e+2));return r?(t.S=+r[0],e+r[0].length):-1}function cc(t,n,e){var r=R.exec(n.slice(e,e+3));return r?(t.L=+r[0],e+r[0].length):-1}function lc(t,n,e){var r=R.exec(n.slice(e,e+6));return r?(t.L=Math.floor(r[0]/1e3),e+r[0].length):-1}function fc(t,n,e){var r=Gs.exec(n.slice(e,e+1));return r?e+r[0].length:-1}function hc(t,n,e){var r=R.exec(n.slice(e));return r?(t.Q=+r[0],e+r[0].length):-1}function pc(t,n,e){var r=R.exec(n.slice(e));return r?(t.s=+r[0],e+r[0].length):-1}function ze(t,n){return N(t.getDate(),n,2)}function gc(t,n){return N(t.getHours(),n,2)}function dc(t,n){return N(t.getHours()%12||12,n,2)}function mc(t,n){return N(1+Gt.count(lt(t),t),n,3)}function Hr(t,n){return N(t.getMilliseconds(),n,3)}function yc(t,n){return Hr(t,n)+"000"}function vc(t,n){return N(t.getMonth()+1,n,2)}function _c(t,n){return N(t.getMinutes(),n,2)}function wc(t,n){return N(t.getSeconds(),n,2)}function xc(t){var n=t.getDay();return n===0?7:n}function Mc(t,n){return N(kn.count(lt(t)-1,t),n,2)}function Yr(t){var n=t.getDay();return n>=4||n===0?Ft(t):Ft.ceil(t)}function Tc(t,n){return t=Yr(t),N(Ft.count(lt(t),t)+(lt(t).getDay()===4),n,2)}function bc(t){return t.getDay()}function Cc(t,n){return N(wn.count(lt(t)-1,t),n,2)}function kc(t,n){return N(t.getFullYear()%100,n,2)}function Sc(t,n){return t=Yr(t),N(t.getFullYear()%100,n,2)}function $c(t,n){return N(t.getFullYear()%1e4,n,4)}function Nc(t,n){var e=t.getDay();return t=e>=4||e===0?Ft(t):Ft.ceil(t),N(t.getFullYear()%1e4,n,4)}function Ac(t){var n=t.getTimezoneOffset();return(n>0?"-":(n*=-1,"+"))+N(n/60|0,"0",2)+N(n%60,"0",2)}function Xe(t,n){return N(t.getUTCDate(),n,2)}function Dc(t,n){return N(t.getUTCHours(),n,2)}function Uc(t,n){return N(t.getUTCHours()%12||12,n,2)}function Fc(t,n){return N(1+fe.count(Mt(t),t),n,3)}function Rr(t,n){return N(t.getUTCMilliseconds(),n,3)}function Ec(t,n){return Rr(t,n)+"000"}function Lc(t,n){return N(t.getUTCMonth()+1,n,2)}function Ic(t,n){return N(t.getUTCMinutes(),n,2)}function Hc(t,n){return N(t.getUTCSeconds(),n,2)}function Yc(t){var n=t.getUTCDay();return n===0?7:n}function Rc(t,n){return N(Ir.count(Mt(t)-1,t),n,2)}function Pr(t){var n=t.getUTCDay();return n>=4||n===0?Et(t):Et.ceil(t)}function Pc(t,n){return t=Pr(t),N(Et.count(Mt(t),t)+(Mt(t).getUTCDay()===4),n,2)}function Oc(t){return t.getUTCDay()}function Vc(t,n){return N(xn.count(Mt(t)-1,t),n,2)}function Wc(t,n){return N(t.getUTCFullYear()%100,n,2)}function qc(t,n){return t=Pr(t),N(t.getUTCFullYear()%100,n,2)}function zc(t,n){return N(t.getUTCFullYear()%1e4,n,4)}function Xc(t,n){var e=t.getUTCDay();return t=e>=4||e===0?Et(t):Et.ceil(t),N(t.getUTCFullYear()%1e4,n,4)}function Bc(){return"+0000"}function Be(){return"%"}function Ze(t){return+t}function Ge(t){return Math.floor(+t/1e3)}var Ct,Or;Zc({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function Zc(t){return Ct=Zs(t),Or=Ct.format,Ct.parse,Ct.utcFormat,Ct.utcParse,Ct}function Gc(t){return new Date(t)}function Qc(t){return t instanceof Date?+t:+new Date(+t)}function Vr(t,n,e,r,i,o,a,u,c,s){var l=Er(),f=l.invert,h=l.domain,p=s(".%L"),m=s(":%S"),v=s("%I:%M"),C=s("%I %p"),S=s("%a %d"),g=s("%b %d"),y=s("%B"),x=s("%Y");function M(_){return(c(_)<_?p:u(_)<_?m:a(_)<_?v:o(_)<_?C:r(_)<_?i(_)<_?S:g:e(_)<_?y:x)(_)}return l.invert=function(_){return new Date(f(_))},l.domain=function(_){return arguments.length?h(Array.from(_,Qc)):h().map(Gc)},l.ticks=function(_){var T=h();return t(T[0],T[T.length-1],_??10)},l.tickFormat=function(_,T){return T==null?M:s(T)},l.nice=function(_){var T=h();return(!_||typeof _.range!="function")&&(_=n(T[0],T[T.length-1],_??10)),_?h(Us(T,_)):l},l.copy=function(){return Fr(l,Vr(t,n,e,r,i,o,a,u,c,s))},l}function Jc(){return Ur.apply(Vr(Xs,Bs,lt,he,kn,Gt,le,ce,$t,Or).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function kt(t){return function(){return t}}function Kc(t){let n=3;return t.digits=function(e){if(!arguments.length)return n;if(e==null)n=null;else{const r=Math.floor(e);if(!(r>=0))throw new RangeError(`invalid digits: ${e}`);n=r}return t},()=>new ts(n)}function jc(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function Wr(t){this._context=t}Wr.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2;default:this._context.lineTo(t,n);break}}};function tl(t){return new Wr(t)}function nl(t){return t[0]}function el(t){return t[1]}function rl(t,n){var e=kt(!0),r=null,i=tl,o=null,a=Kc(u);t=typeof t=="function"?t:t===void 0?nl:kt(t),n=typeof n=="function"?n:n===void 0?el:kt(n);function u(c){var s,l=(c=jc(c)).length,f,h=!1,p;for(r==null&&(o=i(p=a())),s=0;s<=l;++s)!(s<l&&e(f=c[s],s,c))===h&&((h=!h)?o.lineStart():o.lineEnd()),h&&o.point(+t(f,s,c),+n(f,s,c));if(p)return o=null,p+""||null}return u.x=function(c){return arguments.length?(t=typeof c=="function"?c:kt(+c),u):t},u.y=function(c){return arguments.length?(n=typeof c=="function"?c:kt(+c),u):n},u.defined=function(c){return arguments.length?(e=typeof c=="function"?c:kt(!!c),u):e},u.curve=function(c){return arguments.length?(i=c,r!=null&&(o=i(r)),u):i},u.context=function(c){return arguments.length?(c==null?r=o=null:o=i(r=c),u):r},u}function Wt(t,n,e){this.k=t,this.x=n,this.y=e}Wt.prototype={constructor:Wt,scale:function(t){return t===1?this:new Wt(this.k*t,this.x,this.y)},translate:function(t,n){return t===0&n===0?this:new Wt(this.k,this.x+this.k*t,this.y+this.k*n)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};Wt.prototype;function il(t){let n,e,r='<div id="map" class="map svelte-dxa9p6"></div>',i,o,a,u='<input type="radio" id="evictions" name="vis-type" value="evictions" checked=""/> <label for="evictions">Eviction Numbers</label> <input type="radio" id="percent" name="vis-type" value="percent"/> <label for="percent">Eviction Rate</label>',c,s,l,f,h,p,m,v,C='<div class="legend-item svelte-dxa9p6" id="low-legend"></div> <div class="legend-item svelte-dxa9p6" id="high-legend"></div>',S,g,y,x,M,_,T,D,X,Y,b="Hover over the map to see the numbers. Click the census tract to see the trend.";return{c(){n=B("div"),e=B("div"),e.innerHTML=r,i=gt(),o=B("div"),a=B("div"),a.innerHTML=u,c=gt(),s=B("h2"),l=Qt("Number of evictions in "),f=Qt(t[0]),h=gt(),p=B("div"),m=gt(),v=B("div"),v.innerHTML=C,S=gt(),g=B("div"),y=B("h2"),x=Qt("Year: "),M=B("span"),_=Qt(t[0]),T=gt(),D=B("input"),X=gt(),Y=B("div"),Y.textContent=b,this.h()},l(U){n=Z(U,"DIV",{id:!0,class:!0});var A=dt(n);e=Z(A,"DIV",{id:!0,class:!0,"data-svelte-h":!0}),Jt(e)!=="svelte-1ktmx0i"&&(e.innerHTML=r),i=mt(A),o=Z(A,"DIV",{class:!0,id:!0});var L=dt(o);a=Z(L,"DIV",{id:!0,"data-svelte-h":!0}),Jt(a)!=="svelte-dfpcbo"&&(a.innerHTML=u),c=mt(L),s=Z(L,"H2",{});var ft=dt(s);l=Kt(ft,"Number of evictions in "),f=Kt(ft,t[0]),ft.forEach(ht),h=mt(L),p=Z(L,"DIV",{id:!0,class:!0}),dt(p).forEach(ht),m=mt(L),v=Z(L,"DIV",{id:!0,class:!0,"data-svelte-h":!0}),Jt(v)!=="svelte-12dx64e"&&(v.innerHTML=C),S=mt(L),g=Z(L,"DIV",{id:!0,class:!0});var Q=dt(g);y=Z(Q,"H2",{});var nt=dt(y);x=Kt(nt,"Year: "),M=Z(nt,"SPAN",{id:!0});var it=dt(M);_=Kt(it,t[0]),it.forEach(ht),nt.forEach(ht),T=mt(Q),D=Z(Q,"INPUT",{id:!0,class:!0,type:!0,min:!0,max:!0,step:!0}),Q.forEach(ht),X=mt(L),Y=Z(L,"DIV",{id:!0,"data-svelte-h":!0}),Jt(Y)!=="svelte-kysem8"&&(Y.textContent=b),L.forEach(ht),A.forEach(ht),this.h()},h(){I(e,"id","map-container"),I(e,"class","svelte-dxa9p6"),I(a,"id","type-selector"),I(p,"id","legend-color"),I(p,"class","svelte-dxa9p6"),I(v,"id","legend-label"),I(v,"class","svelte-dxa9p6"),I(M,"id","active-year"),I(D,"id","slider"),I(D,"class","row svelte-dxa9p6"),I(D,"type","range"),I(D,"min","2020"),I(D,"max","2023"),I(D,"step","1"),D.value=t[0],I(g,"id","time-slider"),I(g,"class","svelte-dxa9p6"),I(Y,"id","trend-graph"),I(o,"class","map-overlay svelte-dxa9p6"),I(o,"id","legend"),I(n,"id","vis-container"),I(n,"class","svelte-dxa9p6")},m(U,A){ti(U,n,A),E(n,e),E(n,i),E(n,o),E(o,a),E(o,c),E(o,s),E(s,l),E(s,f),E(o,h),E(o,p),E(o,m),E(o,v),E(o,S),E(o,g),E(g,y),E(y,x),E(y,M),E(M,_),E(g,T),E(g,D),E(o,X),E(o,Y)},p(U,[A]){A&1&&ge(f,U[0]),A&1&&ge(_,U[0]),A&1&&(D.value=U[0])},i:Rn,o:Rn,d(U){U&&ht(n)}}}const Qe="#f7d654",rn="#e64302";function ol(t,n,e){let r=2020,i="evictions";function o(a){console.log({data:a});var u={top:10,right:30,bottom:30,left:60},c=200-u.left-u.right,s=200-u.top-u.bottom;let l=document.getElementById("trend-graph");l.innerHTML="";var f=la("#trend-graph").append("svg").attr("width",c+u.left+u.right).attr("height",s+u.top+u.bottom).append("g").attr("transform","translate("+u.left+","+u.top+")"),h=Jc().domain(gi(a,function(x){return x.year})).range([0,c]);f.append("g").attr("transform","translate(0,"+s+")").call(ki(h));var p=Lr().domain([0,_i(a,function(x){return+x.evictions})]).range([s,0]);f.append("g").call(Si(p).ticks(5));var m=Mn(function(x){return x.year}).left,v=f.append("g").append("circle").style("fill","none").attr("stroke",rn).attr("r",3).style("opacity",0),C=f.append("g").append("text").style("opacity",0).attr("text-anchor","left").attr("alignment-baseline","middle");f.append("path").datum(a).attr("fill","none").attr("stroke",rn).attr("stroke-width",1.5).attr("d",rl().x(function(x){return h(x.year)}).y(function(x){return p(x.evictions)})),f.append("rect").style("fill","none").style("pointer-events","all").attr("width",c).attr("height",s).on("mouseover",S).on("mousemove",g).on("mouseout",y);function S(){v.style("opacity",1),C.style("opacity",1)}function g(x){var M=h.invert(ha(x)[0]);console.log({x0:M});var _=m(a,M,1);let T=a[_];console.log(T),console.log({i:_}),v.attr("cx",h(T.year)).attr("cy",p(T.evictions)),C.html(T.evictions+" evictions").attr("x",h(T.year)+15).attr("y",p(T.evictions))}function y(){v.style("opacity",0),C.style("opacity",0)}}return jr(()=>{const a=new ui.Map({container:"map",accessToken:"pk.eyJ1IjoiamVzc3N4IiwiYSI6ImNsdW16ZnIwbzFpbmkya2xobXo1MDJmZ3oifQ.ogmulGwB0XVmVzqZO72KCA",style:"mapbox://styles/mapbox/light-v10",zoom:11,center:[-71.0596,42.3101]});a.on("load",()=>{hs("/datasets/Metro_Boston_Census_Tracts.geojson").then(u=>{a.addSource("census-tracts",{type:"geojson",data:u,promoteId:"geoid"}),ls("/datasets/evictions.csv").then(c=>{let s=0,l=0,f=0,h=0;a.getSource("census-tracts").setData({type:"FeatureCollection",features:a.getSource("census-tracts")._data.features.map(function(g){var y=g.properties.geoid,x=c.find(M=>M.GEOID===y);return x&&(g.properties.evictions_2020=parseFloat(x["2020_eviction"]),g.properties.evictions_2021=parseFloat(x["2021_eviction"]),g.properties.evictions_2022=parseFloat(x["2022_eviction"]),g.properties.evictions_2023=parseFloat(x["2023_eviction"]),s=Math.max(s,g.properties.evictions_2020,g.properties.evictions_2021,g.properties.evictions_2022,g.properties.evictions_2023),l=Math.min(l,g.properties.evictions_2020,g.properties.evictions_2021,g.properties.evictions_2022,g.properties.evictions_2023),g.properties.percent_2020=parseFloat(x["2020_eviction"])/parseFloat(x.pop)*100,g.properties.percent_2021=parseFloat(x["2021_eviction"])/parseFloat(x.pop)*100,g.properties.percent_2022=parseFloat(x["2022_eviction"])/parseFloat(x.pop)*100,g.properties.percent_2023=parseFloat(x["2023_eviction"])/parseFloat(x.pop)*100,isNaN(g.properties.percent_2020)||(f=Math.max(f,g.properties.percent_2020,g.properties.percent_2021,g.properties.percent_2022,g.properties.percent_2023),h=Math.min(h,g.properties.percent_2020,g.properties.percent_2021,g.properties.percent_2022,g.properties.percent_2023)),g.properties.description=`
                                    <b>${g.properties.geoid}</b>
                                `,g.id=g.properties.geoid),g})}),a.addLayer({id:"census-tracts",type:"fill",source:"census-tracts",paint:{"fill-color":["interpolate",["linear"],["get",i+"_"+r],l,Qe,s,rn],"fill-opacity":.9},filter:["has","evictions_2020"]}),a.addLayer({id:"census-tracts-outline",type:"line",source:"census-tracts",paint:{"line-width":["case",["boolean",["feature-state","hover"],!1],1,0]},filter:["has","evictions_2020"]});const p=new mapboxgl.Popup({closeButton:!1,closeOnClick:!1});a.on("mousemove","census-tracts",g=>{a.getCanvas().style.cursor="pointer";const y=g.features[0].properties,x=[y.intptlon,y.intptlat],M=g.features[0].properties.description;for(;Math.abs(g.lngLat.lng-x[0])>180;)x[0]+=g.lngLat.lng>x[0]?360:-360;p.setLngLat(g.lngLat).setHTML(M).addTo(a);var _=a.queryRenderedFeatures({layers:["census-tracts-outline"]});_.forEach(T=>{a.setFeatureState({source:"census-tracts",id:T.id},{hover:!1})}),a.setFeatureState({source:"census-tracts",id:g.features[0].id},{hover:!0})}),a.on("mouseleave","census-tracts",()=>{a.getCanvas().style.cursor="",p.remove();var g=a.queryRenderedFeatures({layers:["census-tracts-outline"]});g.forEach(y=>{a.setFeatureState({source:"census-tracts",id:y.id},{hover:!1})})}),a.on("click","census-tracts",g=>{const y=g.features[0].properties;console.log(y),o([{year:2020,evictions:y.evictions_2020},{year:2021,evictions:y.evictions_2021},{year:2022,evictions:y.evictions_2022},{year:2023,evictions:y.evictions_2023}])});function m(){const g=a.getPaintProperty("census-tracts","fill-color");g[2][1]=i+"_"+r,i==="percent"?(g[3]=h,g[5]=f):(g[3]=l,g[5]=s),a.setPaintProperty("census-tracts","fill-color",g)}function v(){const g=document.getElementById("low-legend"),y=document.getElementById("high-legend");i==="percent"?(g.textContent=h.toFixed(2)+"%",y.textContent=f.toFixed(2)+"%"):(g.textContent=l.toLocaleString(),y.textContent=s.toLocaleString()),console.log(h,f,l,s)}document.getElementById("legend");const C=document.getElementById("legend-color");C.style.background=`linear-gradient(to right, ${Qe}, ${rn})`,v(),document.getElementById("slider").addEventListener("input",g=>{e(0,r=parseInt(g.target.value)),m()}),document.querySelectorAll('input[name="vis-type"]').forEach(g=>{g.addEventListener("change",y=>{console.log(a.getSource("census-tracts")._data.features),console.log(y.target.value),i=y.target.value,m(),v()})})})})})}),[r]}class al extends Ke{constructor(n){super(),je(this,n,ol,il,Je,{})}}function ul(t){let n,e;return n=new al({}),{c(){ni(n.$$.fragment)},l(r){ei(n.$$.fragment,r)},m(r,i){ri(n,r,i),e=!0},p:Rn,i(r){e||(ii(n.$$.fragment,r),e=!0)},o(r){oi(n.$$.fragment,r),e=!1},d(r){ai(n,r)}}}class hl extends Ke{constructor(n){super(),je(this,n,null,ul,Je,{})}}export{hl as component,fl as universal};
